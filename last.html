<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      Key Performance Indicators |
    Pivotal Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='/images/favicon.ico' rel='shortcut icon'>

  <script src="/javascripts/all.js"></script>
  

<!-- Google Tag Manager -->
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MW4LZHR');
</script>


<!-- <script type="text/javascript">
  if (window.location.host === 'docs.pivotal.io') {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39702075-1']);
    _gaq.push(['_setDomainName', 'pivotal.io']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(ga, s);
    })();
  }
</script> -->

<script type="text/javascript">
  var blackList = ['acceptance'];

  blackList.forEach(function(blackListedEnv) {
    if (document.URL.indexOf(blackListedEnv) > -1 && blackListedEnv != "") {
      $('head').append('<meta name="hashtag" content="PivotalMoment">');
    }
  });
</script>

<!-- CrazyEgg Tracking Script -->
<!--   <script type="text/javascript">
  setTimeout(function(){var a=document.createElement("script");
  var b=document.getElementsByTagName("script")[0];
  a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0055/2990.js?"+Math.floor(new Date().getTime()/3600000);
  a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script> -->

<!-- Munchkin Marketo Script -->
<!-- <script type="text/javascript">
  (function() {
    var didInit = false;

    function initMunchkin() {
      if (didInit === false) {
        didInit = true;
        Munchkin.init('625-IUJ-009');
      }
    }

    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script> -->

</head>

<body class="pivotalcf pivotalcf_2-5 pivotalcf_2-5_monitoring pivotalcf_2-5_monitoring_kpi has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "pivotal.io";
    </script>

      <header class="global-header header header-layout js-bar-links">
    <div class='super-nav'>
      <div class='container-modified'>
        <div class='header-links'>
          <div class="header-item" id='docs-header-item'>
            <a href='https://docs.pivotal.io'>Documentation</a>
          </div>
          <div class="header-item">
            <a href="https://network.pivotal.io">Downloads</a>
          </div>
          <div class="header-item">
            <a href="https://pivotal.io/support">Support</a>
          </div>
          <div class='header-item' id='contact-header-item'>
            <a href='https://pivotal.io/contact'>Contact Us</a>
          </div>
          <div class='header-item'>
            <a href="https://login.run.pivotal.io">Sign In</a>
          </div>
          <div class='header-item'>
            <a href="https://account.run.pivotal.io/z/uaa/sign-up">Register</a>
          </div>
        </div>
      </div>
      
    </div>
    <div class='container-modified'>
      <a href="/" class="global-header-title">
        <svg class="pivotal-logo" xmlns="http://www.w3.org/2000/svg" width="174.72" height="40.94" viewBox="0 0 174.72 40.94"><path class="a" d="M38.77,6h-6.2V0h6.2Zm0,34.24H32.56V10.41h6.22Z"/><path class="a" d="M74.67,10.41,66,36.18c-1.49,4.22-4.15,4.76-6.3,4.76-3.19,0-5.11-1.47-6.24-4.75l-7.22-21.4H43.39V10.41h7.45l7.44,24c.33,1,.53,1.63,1.43,1.63s1.13-.62,1.43-1.63l7.59-24Z"/><path class="a" d="M90,10.41c8.05,0,13.66,5.31,13.66,12.92V28c0,7.6-5.61,12.92-13.66,12.92S76.32,35.62,76.32,28V23.33c0-7.61,5.62-12.92,13.67-12.92M90,36c4.81,0,7.8-3.64,7.8-8V23.33c0-4.37-3-8-7.8-8-5.1,0-7.8,3.64-7.8,8V28c0,4.37,2.82,8,7.8,8"/><path class="a" d="M153.32,11.36A53.46,53.46,0,0,0,141.8,10c-8.17,0-13.24,5.15-13.24,13.45v3.27c0,8.3,5.07,13.53,13.24,13.53.19,0,1.64,0,2.3-.06v-5l-2.3.07c-4.45,0-7.43-3.43-7.43-8.53V23.44c0-5.09,3-8.52,7.43-8.52a43.88,43.88,0,0,1,6.09.38l.33.08V40.24h6.22V12.4c0-.53,0-.74-1.13-1"/><rect class="a" x="160.44" width="6.22" height="40.24"/><path class="a" d="M10.92,0H0V40.24H6.47V5.59h3.79c.81,0,1.49,0,2.18.06,5.61.1,8.35,2.33,8.35,6.69,0,.17,0,.29,0,.47,0,4-2.21,6.71-8.32,6.71H10.67c0,1.55,0,4.41,0,5.41.63,0,1.22.06,1.82.06,8.78,0,15-3.45,15-12.11,0-.17,0-.35,0-.52C27.44,3.38,20.69,0,10.92,0"/><path class="a" d="M114.7,4v6.43h10.13v4.82H114.7V32.61c0,2.73,1.74,2.8,4.26,2.8h5.87v4.83h-7.94c-5.87,0-8.48-2.35-8.48-7.63V4.84Z"/><path class="a" d="M169.52,37.64a2.6,2.6,0,1,1,2.6,2.6A2.61,2.61,0,0,1,169.52,37.64Zm2.6-2.25a2.23,2.23,0,1,0,2.22,2.24A2.24,2.24,0,0,0,172.12,35.39ZM171.55,39h-.31V36.19h.8c.72,0,1.06.33,1.06.86a.82.82,0,0,1-.58.8l.74,1.17h-.36l-.68-1.1-.67,0Zm.51-1.34c.46,0,.75-.24.75-.62s-.25-.6-.79-.6h-.48V37.7Z"/></svg><svg class="documentation-letters" xmlns="http://www.w3.org/2000/svg" width="358.62" height="30.84" viewBox="0 0 358.62 30.84"><path class="a" d="M3.71,37.26V7.45h9.52c9.25,0,15.06,6.75,15.06,14.92S22.48,37.26,13.23,37.26Zm21.9-14.89c0-7-4.47-12.6-12.38-12.6h-7V34.93h7C21.1,34.93,25.61,29.35,25.61,22.37Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M33.52,22.37C33.52,13.66,39.24,7,48,7s14.48,6.7,14.48,15.41S56.72,37.79,48,37.79,33.52,31.09,33.52,22.37Zm26.28,0c0-7.55-4.64-13.09-11.8-13.09S36.21,14.82,36.21,22.37s4.6,13.1,11.79,13.1S59.8,29.88,59.8,22.37Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M67.67,22.37C67.67,13.21,74.33,7,82.78,7a13.38,13.38,0,0,1,10.86,5.27L91.5,13.61a10.84,10.84,0,0,0-8.72-4.33c-7,0-12.42,5.32-12.42,13.09s5.45,13.1,12.42,13.1a10.82,10.82,0,0,0,8.72-4.34l2.19,1.34a13.51,13.51,0,0,1-10.91,5.32C74.33,37.79,67.67,31.54,67.67,22.37Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M98.79,25.82V7.45h2.59V25.77c0,6,3.17,9.7,9,9.7s9-3.67,9-9.7V7.45H122V25.82c0,7.37-3.94,12-11.62,12S98.79,33.15,98.79,25.82Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M154.75,37.26V10.66l-10.87,26.6h-1L132,10.66v26.6h-2.55V7.45h3.8l10.14,24.8,10.1-24.8h3.85V37.26Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M164.76,37.26V7.45h18.91V9.77H167.31v11h16v2.32h-16v11.8h16.36v2.33Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M211.29,37.26,192.52,11.65V37.26H190V7.45h2.59L211.25,32.7V7.45h2.54V37.26Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M228.81,37.26V9.77h-9.74V7.45h22.08V9.77h-9.74V37.26Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M264.93,37.26,262,29.93H246.2l-2.95,7.33H240.3L252.51,7.45h3.17l12.2,29.81ZM254.11,10.17,247.05,27.6h14.08Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M276.78,37.26V9.77H267V7.45h22.07V9.77h-9.74V37.26Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M294.39,37.26V7.45h2.55V37.26Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M303.24,22.37C303.24,13.66,309,7,317.72,7s14.48,6.7,14.48,15.41-5.76,15.42-14.48,15.42S303.24,31.09,303.24,22.37Zm26.28,0c0-7.55-4.65-13.09-11.8-13.09s-11.8,5.54-11.8,13.09,4.61,13.1,11.8,13.1S329.52,29.88,329.52,22.37Z" transform="translate(-3.71 -6.96)"/><path class="a" d="M359.83,37.26,341.06,11.65V37.26h-2.55V7.45h2.59L359.78,32.7V7.45h2.55V37.26Z" transform="translate(-3.71 -6.96)"/></svg>
      </a>
      <div class="header-item embedded-searchbar">
          <form method="get" action="/search">
            <input name="q" placeholder="Search PCF 2.5" class="search-box" />
              <input type="hidden" name="product_name" value="Pivotal Cloud Foundry" />
              <input type="hidden" name="product_version" value="2.5"/>
          </form>
      </div>
      <div class="btn-menu" data-behavior="MenuMobile"></div>
      <div class='header-links mobile-only'>
        <div class="header-item" id='docs-header-item'>
          <a href='https://docs.pivotal.io'>Documentation</a>
        </div>
        <div class="header-item">
          <a href="https://network.pivotal.io">Downloads</a>
        </div>
        <div class="header-item">
          <a href="https://pivotal.io/support">Support</a>
        </div>
        <div class='header-item' id='contact-header-item'>
          <a href='https://pivotal.io/contact'>Contact Us</a>
        </div>
        <div class='header-item'>
          <a href="https://login.run.pivotal.io">Sign In</a>
        </div>
        <div class='header-item'>
          <a href="https://account.run.pivotal.io/z/uaa/sign-up">Register</a>
        </div>

        <div class="header-item embedded-searchbar">
            <form method="get" action="/search">
              <input name="q" placeholder="Search PCF 2.5" class="search-box" />
                <input type="hidden" name="product_name" value="Pivotal Cloud Foundry" />
                <input type="hidden" name="product_version" value="2.5"/>
            </form>
        </div>
      </div>
    </div>
  </header>



    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="nav-container js-sidenav" role="navigation">
   <a class="sidenav-title" data-behavior="SubMenuMobile">Doc Index</a>
   <div class="nav-content">
      <ul>
         <li class="">
            <a href="/pivotalcf/2-5/installing/highlights.html">PCF v2.5 Feature Highlights</a>
         </li>
         <li class="has_submenu">
            <a href="https://docs.pivotal.io/pivotalcf/2-5/pcf-release-notes/index.html">PCF Release Notes</a>
            <ul>
               <li class="">
                  <a href="https://docs.pivotal.io/pivotalcf/2-5/pcf-release-notes/breaking-changes.html">PCF v2.5 Breaking Changes</a>
               </li>
               <li class="">
                  <a href="https://docs.pivotal.io/pivotalcf/2-5/pcf-release-notes/opsmanager-rn.html">PCF Ops Manager v2.5 Release Notes</a>
               </li>
               <li class="">
                  <a href="https://docs.pivotal.io/pivotalcf/2-5/pcf-release-notes/runtime-rn.html">PAS v2.5 Release Notes</a>
               </li>
               <li class="">
                  <a href="https://docs.pivotal.io/pivotalcf/2-5/pcf-release-notes/windows-rn.html">PAS for Windows v2.5 Release Notes</a>
               </li>
               <li class="">
                  <a href="https://docs.pivotal.io/runtimes/pks/1-3/release-notes.html">Pivotal Container Service v1.3 Release Notes</a>
               </li>
               <li class="">
                  <a href="https://docs.pivotal.io/runtimes/pks/1-4/release-notes.html">Enterprise Pivotal Container Service v1.4 Release Notes</a>
               </li>
               <li class="">
                  <a href="https://docs.pivotal.io/pivotalcf/2-5/pcf-release-notes/segment-rn.html">PCF Isolation Segment v2.5 Release Notes</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/stemcells/index.html">Stemcell Release Notes</a>
                  <ul>
                     <li><a href="/pivotalcf/2-5/stemcells/stemcells.html">Stemcell (Linux) Release Notes</a></li>
                     <li><a href="/pivotalcf/2-5/stemcells/windows-stemcell-v2019x.html">Stemcell v2019.x (Windows Server version 2019) Release Notes</a></li>
                     <li><a href="/pivotalcf/2-5/stemcells/xenial-tiles.html">Tiles Using Xenial Stemcells in PCF</a></li>
                  </ul>
               </li>
            </ul>
         </li>

         <li class="has_submenu">
            <a href="/pivotalcf/2-5/plan/index.html">Platform Architecture and Planning</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/plan/aws/aws_ref_arch.html">AWS Reference Architecture</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/plan/azure/azure_ref_arch.html">Azure Reference Architecture</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/plan/gcp/gcp_ref_arch.html">GCP Reference Architecture</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/plan/openstack/openstack_ref_arch.html">OpenStack Reference Architecture</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/plan/vsphere/vsphere_ref_arch.html">vSphere Reference Architecture</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/plan/vsphere/vsphere_nsx_cookbook.html">Cookbook for Using Edge Services Gateway on Pivotal Cloud Foundry and VMware NSX</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/plan/vsphere/vsphere_upgrade.html">How to Upgrade vSphere without PCF Downtime</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/plan/vsphere/vsphere_migrate_datastore.html">How to Migrate PCF to a New Datastore in vSphere</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/plan/control.html">Control Plane Reference Architectures</a>
               </li>
               <li class="">
                  <a href="https://docs.pivotal.io/runtimes/pks/1-2/nsxt-multi-pks.html">Implementing a Multi-Foundation PKS Deployment</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/plan/global-dns-lb.html">Global DNS Load Balancers for Multi-Foundation Environments</a>
               </li>
            </ul>
         </li>

         <li class="has_submenu">
            <a href="/pivotalcf/2-5/installing/index.html">Installing Pivotal Cloud Foundry</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/config_firewall.html">Preparing Your Firewall for Deploying Pivotal Cloud Foundry</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/iaas-user-roles.html">Pivotal Cloud Foundry IaaS User Role Guidelines</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/offline_installation.html">Installing PCF in Airgapped Environments</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/aws.html">Installing Pivotal Cloud Foundry on AWS</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/aws-iaas-user-roles.html">Guidelines for Creating User Roles for PCF on AWS</a>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/om/aws/prepare-env-manual.html">Installing PCF on AWS Manually</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/aws/config-manual.html">Configuring BOSH Director on AWS</a>
                           </li>
                        </ul>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/customizing/aws-terraform.html">Installing PCF on AWS Using Terraform</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/aws/prepare-env-terraform.html">Deploying Ops Manager on AWS Using Terraform</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/aws/config-terraform.html">Configuring BOSH Director on AWS Using Terraform</a>
                           </li>
                        </ul>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/deleting-aws-install.html">Deleting an AWS Installation from the Console</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/elb-ssh-proxy.html">Creating a Proxy ELB for Diego SSH</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/aws-om-upgrade.html">Upgrading BOSH Director on AWS</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/azure.html">Installing Pivotal Cloud Foundry on Azure</a>
                  <ul>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/customizing/pcf-azure-manual-config.html">Installing PCF on Azure Manually</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/azure/prepare-env-manual.html">Preparing to Deploy Ops Manager on Azure Manually</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/azure/deploy-manual.html">Deploying Ops Manager on Azure Manually</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/azure/config-manual.html">Configuring BOSH Director on Azure Manually</a>
                           </li>
                        </ul>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/customizing/azure-terraform.html">Installing PCF on Azure Using Terraform</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/azure/prepare-env-terraform.html">Deploying Ops Manager on Azure Using Terraform</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/azure/config-terraform.html">Configuring BOSH Director on Azure Using Terraform</a>
                           </li>

                        </ul>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/azure-troubleshooting.html">Troubleshooting PCF on Azure</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/deleting-azure-install.html">Deleting a PCF on Azure Installation</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/azure-om-upgrade.html">Upgrading BOSH Director on Azure</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/gcp.html">Installing Pivotal Cloud Foundry on GCP</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/gcp-quotas.html">Recommended GCP Quotas</a>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/customizing/gcp-manual.html">Installing Pivotal Cloud Foundry on GCP Manually</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/gcp/prepare-env-manual.html">Preparing to Deploy Ops Manager on GCP Manually</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/gcp/deploy-manual.html">Deploying Ops Manager on GCP Manually</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/gcp/config-manual.html">Configuring BOSH Director on GCP Manually</a>
                           </li>
                        </ul>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/customizing/gcp-terraform.html">Installing Pivotal Cloud Foundry on GCP Using Terraform</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/gcp/prepare-env-terraform.html">Deploying Ops Manager on GCP Using Terraform</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/om/gcp/config-terraform.html">Configuring BOSH Director on GCP Using Terraform</a>
                           </li>
                        </ul>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/gcp-shared-vpc.html">Configuring a Shared VPC on GCP</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/deleting-gcp-install.html">Deleting a GCP Installation from the Console</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/gcp-troubleshooting.html">Troubleshooting PCF on GCP</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/gcp-om-upgrade.html">Upgrading a BOSH Director Instance on GCP</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/openstack.html">Installing Pivotal Cloud Foundry on OpenStack</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/om/openstack/setup.html">Deploying Ops Manager on OpenStack</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/om/openstack/config.html">Configuring BOSH Director on OpenStack</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/vsphere.html">Installing Pivotal Cloud Foundry on vSphere</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/om/vsphere/vsphere-service-account.html">vSphere Service Account Requirements</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/om/vsphere/deploy.html">Deploying Ops Manager on vSphere</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/om/vsphere/config.html">Configuring BOSH Director on vSphere</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/vsphere-nsx-t.html">Deploying PAS with NSX-T Networking</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/disk-format.html">Provisioning a Virtual Disk in vSphere</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/nexus-switch.html">Using the Cisco Nexus 1000v Switch with Ops Manager</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/resurrector.html">Using BOSH Resurrector and vSphere HA</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/opsguide/ssl-term.html">Configuring SSL Termination for vSphere Deployments</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/understand-az.html">Availability Zones in VMware Installations</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/update-nsx.html">Updating NSX-V Security Group and Load Balancer Information</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/update-nsx-t.html">Updating NSX-T Load Balancer Server Pool Membership</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/configure-pas.html">Configuring PAS</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/quickstart-pas.html">Quick Start PAS Configuration</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/pas-file-storage.html">Configuring File Storage for PAS</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/configure-lb.html">Configuring Load Balancing for PAS</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/installing-pcf-is.html">Installing PCF Isolation Segment</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/small-footprint.html">Getting Started with Small Footprint PAS</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/customizing/upgrading-pcf.html">Upgrading Pivotal Cloud Foundry</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/upgrading/understanding-pas.html">What Happens During PAS Upgrades</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/upgrading/checklist.html">Upgrade Preparation Checklist for PCF 2.5</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/upgrading/configuring.html">Configuring PAS for Upgrades</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/pws_upgrade_load.html">Upgrade Load Example: Pivotal Web Services</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/upgrading-products.html">Upgrading PAS and Other Pivotal Cloud Foundry Products</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/cfpush-availability-during-upgrade.html">cf push Availability During Pivotal Application Service Upgrades</a>
               </li>
            </ul>
         </li>

         <li class=""><a href="https://docs.pivotal.io/pcf-dev/index.html">PCF Dev</a></li>

         <li class="has_submenu">
            <a href="/pivotalcf/2-5/customizing/backup-restore/index.html">Backing Up and Restoring Pivotal Cloud Foundry</a>
            <ul>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/backup-restore/incident-response-guides/index.html">Incident Response Guides</a>
                  <ul>
                    <li>
                       <a href="/pivotalcf/2-5/customizing/backup-restore/incident-response-guides/lost-director-disk.html">Restoring Lost BOSH Directer Persistent Disk</a>
                    </li>
                     <li>
                        <a href="/pivotalcf/2-5/customizing/backup-restore/incident-response-guides/lost-cf-data.html">Restoring Lost PAS Data</a>
                     </li>
                     <li>
                        <a href="/pivotalcf/2-5/customizing/backup-restore/incident-response-guides/failed-pas-upgrade.html">Recovering from an Ops Manager and PAS Upgrade Failure</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/backup-restore/disaster-recovery.html">Disaster Recovery in Pivotal Cloud Foundry</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/backup-restore/backup-pcf-bbr.html">Backing Up Pivotal Cloud Foundry with BBR</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/backup-restore/component-backups.html">PAS Component Behavior During Backup</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/backup-restore/restore-pcf-bbr.html">Restoring Pivotal Cloud Foundry from Backup with BBR</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/backup-restore/enabling-external-blobstore-backups.html">Enabling External Blobstore Backups</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/backup-restore/troubleshooting-bbr.html">Troubleshooting BBR</a>
               </li>
               <li class="">
                  <a href="https://docs.cloudfoundry.org/bbr/index.html">BOSH Backup and Restore (Open Source Documentation)</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/customizing/ops-man.html">Using Ops Manager</a>
            <ul>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/ops-man-api.html">Using the Ops Manager API</a>
                  <ul>
                     <li><a href="/pivotalcf/2-5/customizing/api-setup-director.html">Configuring the BOSH Director with the Ops Manager API</a></li>
                     <li><a href="/pivotalcf/2-5/customizing/api-setup-product.html">Configuring a Product with the Ops Manager API</a></li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/ops-man-ui.html">Using the Ops Manager UI</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/pcf-interface.html">Using the Ops Manager Interface</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/review-pending-changes.html">Reviewing Pending Product Changes</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/add-delete.html">Adding and Deleting Products</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/opsguide/managing-stemcells.html">Importing and Managing Stemcells</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/console-login.html">Logging in to Apps Manager</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/managing_errands.html">Managing Errands in Ops Manager</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/opsmanager-create-bosh-client.html">Creating UAA Clients for BOSH Director</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/custom-load-balancer.html">Using Your Own Load Balancer</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/opsman-users.html">Creating and Managing Ops Manager User Accounts</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/config-rbac.html">Configuring RBAC in Ops Manager</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/external-user-management.html">Adding Existing SAML or LDAP Users to a Pivotal Cloud Foundry Deployment</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/modify-ops-man.html">Modifying Your Ops Manager Installation and Product Template Files</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/monitoring.html">Monitoring Virtual Machines in Pivotal Cloud Foundry</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/customizing/opsmanager-advanced-features.html">Advanced Features in Ops Manager</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/granular-verifier-control.html">Managing Ops Manager Verifiers</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/custom-vm-extensions.html">Managing Custom VM Extensions</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/customizing/lock-on-deploy.html">Ops Manager Fields That Lock On Deploy</a>
                     </li>
                     <li class="">
                        <a href="https://docs.pivotal.io/tiledev/2-5/property-template-references.html">Property and Template References</a>
                     </li>
                  </ul>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/concepts/index.html">PAS Concepts</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/overview.html">Cloud Foundry Overview</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/how-applications-are-staged.html">How Apps Are Staged</a>
               </li>
               <li>
            <a href="/pivotalcf/2-5/devguide/deploy-apps/app-lifecycle.html">App Container Lifecycle</a>
            </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/high-availability.html">High Availability in Cloud Foundry</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/maintaining-high-availability.html">How Cloud Foundry Maintains High Availability</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/roles.html">Orgs, Spaces, Roles, and Permissions</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/security.html">Cloud Foundry Security</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/container-security.html">Container Security</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/understand-cf-networking.html">Container-to-Container Networking</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/asg.html">Application Security Groups</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/grootfs-disk.html">GrootFS Disk Usage</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/concepts/architecture/index.html">Cloud Foundry Components</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/concepts/architecture/cloud-controller.html">Cloud Controller</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/concepts/architecture/messaging-nats.html">Messaging (NATS)</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/concepts/architecture/router.html">Gorouter</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/concepts/architecture/uaa.html">User Account and Authentication (UAA) Server</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/concepts/architecture/garden.html">Garden</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/concepts/http-routing.html">HTTP Routing</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/concepts/architecture/istio-routing.html">Service Mesh Architecture</a>
                     </li>
                  </ul>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/diego/diego-architecture.html">Diego Architecture</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/diego/ssh-conceptual.html">Application SSH Components and Processes</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/concepts/diego/diego-auction.html">How the Diego Auction Allocates Jobs</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/opsguide/index.html">Operating PAS</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/deploying-service-mesh.html">Deploying Service Mesh (Beta)</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/api-endpoint.html">Identifying the API Endpoint for Your PAS Instance</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/creating-account.html">Creating New PAS User Accounts</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/ssl-term-haproxy.html">Configuring SSL/TLS Termination at HAProxy</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/frontend-idle-timeout.html">Configuring Frontend Idle Timeout for Gorouter and HAProxy</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/route-service-lookup.html">Configuring Route Service Lookup</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/config-proxy.html">Configuring Proxy Settings for All Applications</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/app-sec-groups.html">Restricting App Access to Internal PCF Components</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/notifications-asg.html">Configuring Application Security Groups for Email Notifications</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/config-ssh.html">Configuring SSH Access for PCF</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/secure-si-creds.html">Securing Service Instance Credentials with Runtime CredHub</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/id-jobs.html">Identifying PAS Jobs Using vCenter</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/logging-config-opsman.html">Configuring Logging in PAS</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/pw-policy.html">Configuring UAA Password Policy</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/mysql/index.html">Managing Internal MySQL for PAS</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/mysql/scaling-mysql.html">Scaling Internal MySQL for PAS</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/mysql/mysql-diag.html">Running mysql-diag</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/mysql/bootstrap-mysql.html">Recovering From MySQL Cluster Downtime</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/opsguide/auth-sso.html">Configuring Authentication and Enterprise SSO for PAS</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/opsguide/adfs-sso-configuration.html">Configuring ADFS as an Identity Provider</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/opsguide/ca-sso-config.html">Configuring CA as an Identity Provider</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/opsguide/ping-federate-sso-configuration.html">Configuring PingFederate as an Identity Provider</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/external-user-management.html">Adding Existing SAML or LDAP Users to a Pivotal Cloud Foundry Deployment</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/switching-domains.html">Switching Application Domains</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/scaling-ert-components.html">Scaling PAS</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/docker-registry.html">Using Docker Registries</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/config-cell-cleanup.html">Configuring Cell Disk Cleanup Scheduling</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/custom-branding.html">Custom Branding Apps Manager</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/accounting-report.html">Reporting App, Task, and Service Instance Usage</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/accounting-report-apps-man.html">Reporting Instance Usage with Apps Manager</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/security_config.html">Providing a Certificate for your SSL Termination Point</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/enable-vol-services.html">Enabling Volume Services</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/credential-rotation.html">Rotating Runtime CredHub Encryption Keys</a>
               </li>
            </ul>
         </li>

         <li class="has_submenu">
            <a href="/pivotalcf/2-5/adminguide/index.html">Administrating PAS</a>
            <ul>
            <li class="has_submenu">
            <a href="/pivotalcf/2-5/adminguide/platform-index.html">Managing the Runtime</a>
               <ul>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/start-stop-vms.html">Stopping and Starting Virtual Machines</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/quota-plans.html">Creating and Modifying Quota Plans</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/listing-feature-flags.html">Using Feature Flags</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/examining_grootfs_disk.html">Examining GrootFS Disk Usage</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/metadata.html">Using Metadata</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/buildpacks.html">Managing Custom Buildpacks</a>
                  </li>

                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/docker.html">Using Docker in Cloud Foundry</a>
                  </li>

               </ul>
            </li>
            <li class="has_submenu">
            <a href="/pivotalcf/2-5/adminguide/user-accounts-index.html">User Accounts and Communications</a>
               <ul>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/cli-user-management.html">Creating and Managing Users with the cf CLI</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/uaa/uaa-user-management.html">Creating and Managing Users with the UAA CLI (UAAC)</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/opsguide/creating-account.html">Creating New PAS User Accounts</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/opsguide/external-user-management.html">Adding Existing SAML or LDAP Users to a Pivotal Cloud Foundry Deployment</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/notifications.html">Getting Started with the Notifications Service</a>
                  </li>
               </ul>
            </li>
            <li class="has_submenu">
            <a href="/pivotalcf/2-5/adminguide/routing-index.html">Routing</a>
               <ul>
                  <li class="">
                  <a href="/pivotalcf/2-5/adminguide/enabling_ipv6.html">Enabling IPv6 for Hosted Applications</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/adminguide/supporting-websockets.html">Supporting WebSockets</a>
               </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/configure-lb-healthcheck.html">Configuring Load Balancer Healthchecks for Cloud Foundry</a>
                  </li>
                  <li class="">
                  <a href="/pivotalcf/2-5/adminguide/securing-traffic.html">Securing Traffic into Cloud Foundry</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/adminguide/enabling-tcp-routing.html">Enabling TCP Routing</a>
               </li>

               <li class="">
                  <a href="/pivotalcf/2-5/adminguide/service-mesh.html">Service Mesh (Beta)</a>
               </li>

               </ul>
            </li>
            <li class="has_submenu">
            <a href="/pivotalcf/2-5/adminguide/isolation-segment-index.html">Isolation Segments</a>
               <ul>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/isolation-segments.html">Managing Isolation Segments</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/adminguide/routing-is.html">Routing for Isolation Segments</a>
                  </li>
               </ul>
            </li>

            </ul>
         </li>


         <li class="has_submenu">
            <a href="/pivotalcf/2-5/monitoring/index.html">Monitoring PAS</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/monitoring/kpi.html">Key Performance Indicators</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/monitoring/key-cap-scaling.html">Key Capacity Scaling Indicators</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/monitoring/metrics.html">Selecting and Configuring a Monitoring System</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/windows/index.html">PAS for Windows</a>
            <ul>
               <li>
                  <a href="/pivotalcf/2-5/windows/architecture.html">Product Architecture</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/stemcells.html">Downloading or Creating Windows Stemcells</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/create-vsphere-stemcell-manually.html">Creating a Windows Stemcell for vSphere Manually</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/create-vsphere-stemcell-automatically.html">Creating a Windows Stemcell for vSphere Using stembuild (Beta)</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/installing.html">Installing and Configuring PASW</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/isolation.html">Windows Cells in Isolation Segments</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/migrating.html">Migrating Apps to PAS for Windows</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/upgrade-windows.html">Upgrading Windows Cells</a>
               </li>
                 <li class="">
                  <a href="/pivotalcf/2-5/windows/troubleshooting.html">Troubleshooting Windows Cells</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/develop.html">Deploying .NET Apps</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/smb-volumes-apps.html">Using SMB Volumes in .NET Apps</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/deploy-apps/windows-stacks.html">Changing Windows Stacks</a>
                </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/console/index.html">Using Apps Manager</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/console/dev-console.html">Getting Started with Apps Manager</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/console/manage-spaces.html">Managing Orgs and Spaces Using Apps Manager</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/console/console-roles.html">Managing User Roles with Apps Manager</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/console/manage-apps.html">Managing Apps and Service Instances Using Apps Manager</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/appsman-services/autoscaler/using-autoscaler.html">Scaling an Application Using App Autoscaler</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/appsman-services/autoscaler/using-autoscaler-cli.html">Using the App Autoscaler CLI</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/console/space-asgs.html">Viewing ASGs in Apps Manager</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/console/spring-boot-actuators.html">Configuring Spring Boot Actuator Endpoints for Apps Manager</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/console/using-actuators.html">Using Spring Boot Actuator Endpoints with Apps Manager</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/configure-multi-foundation.html">Configuring Multi-Foundation Support in Apps Manager</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/cf-cli/index.html">Using the Cloud Foundry Command Line Interface (cf CLI)</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/cf-cli/install-go-cli.html">Installing the cf CLI</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/cf-cli/getting-started.html">Getting Started with the cf CLI</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/cf-cli/http-proxy.html">Using the cf CLI with an HTTP Proxy Server</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/cf-cli/self-signed.html">Using the cf CLI with a Self-Signed Certificate</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/cf-cli/use-cli-plugins.html">Using cf CLI Plugins</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/cf-cli/develop-cli-plugins.html">Developing cf CLI Plugins</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/cf-cli/cf-help.html">Cloud Foundry CLI Reference Guide</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/v3-commands.html">Using Experimental cf CLI Commands</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/devguide/index.html">Developer Guide</a>
            <ul>
               <li class="has_submenu">
          <a href="/pivotalcf/2-5/devguide/push.html">cf push</a>
          <ul>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/deploy-app.html">Pushing an App</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/manifest.html">Deploying with App Manifests</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/manifest-attributes.html">App Manifest Attribute Reference</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/push-docker.html">Deploying an App with Docker</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/large-app-deploy.html">Deploying a Large App</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/start-restart-restage.html">Starting, Restarting, and Restaging Apps</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/multiple-processes.html">Deploying an App with Multiple Processes (Beta)</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/push-sub-commands.html">Running cf push Sub-Step Commands (Beta)</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/rolling-deploy.html">Rolling App Deployments (Beta)</a>
            </li>
            <li class="">
                  <a href="/pivotalcf/2-5/devguide/deploy-apps/blue-green.html">Using Blue-Green Deployment to Reduce Downtime and Risk</a>
               </li>

            <li>
            <a href="/pivotalcf/2-5/devguide/deploy-apps/troubleshoot-app-health.html">Troubleshooting App Deployment and Health</a>
          </li>
          </ul>
          <li class="has_submenu">
          <a href="/pivotalcf/2-5/devguide/ssh-index.html">SSH for Apps and Services</a>
          <ul>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/app-ssh-overview.html">App SSH Overview</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/ssh-apps.html">Accessing Apps with SSH</a>
            </li>
            <li>
              <a href="/pivotalcf/2-5/devguide/deploy-apps/ssh-services.html">Accessing Services with SSH</a>
            </li>
          </ul>
          </li>
          </li>
          <li class="has_submenu">
            <a href="/pivotalcf/2-5/devguide/routing-index.html">Routes and Domains</a>
            <ul>
               <li>
               <a href="/pivotalcf/2-5/devguide/deploy-apps/routes-domains.html">Configuring Routes and Domains</a>
               </li>
               <li>
               <a href="/pivotalcf/2-5/devguide/weighted-routing.html">Using Weighted Routing (Beta)</a>
               </li>
               <li>
               <a href="/pivotalcf/2-5/devguide/custom-ports.html">Configuring CF to Route Traffic to Apps on Custom Ports</a>
               </li>
            </ul>
            </li>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/devguide/services-index.html">Managing Services</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/">Services Overview</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/managing-services.html">Managing Service Instances</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/sharing-instances.html">Sharing Service Instances</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/application-binding.html">Delivering Service Credentials to an App</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/service-keys.html">Managing Service Keys</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/play-service-bindings.html">Configuring Play Framework Service Connections</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/using-vol-services.html">Using an External File System (Volume Services)</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/user-provided.html">User-Provided Service Instances</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/devguide/streaming-logs-index.html">Streaming App Logs</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/log-management.html">Streaming App Logs to Log Management Services</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/log-management-thirdparty-svc.html">Service-Specific Instructions for Streaming App Logs</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/integrate-splunk.html">Streaming App Logs to Splunk</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/fluentd.html">Streaming App Logs with Fluentd</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/services/oms-nozzle.html">Streaming App Logs to Azure OMS Log Analytics</a>
               </li>
            </ul>
            </li>
            <li class="has_submenu">
               <a href="/pivotalcf/2-5/devguide/managing-apps-index.html">Managing Apps with the cf CLI</a>
               <ul>
                  <li class="">
                     <a href="/pivotalcf/2-5/devguide/using-tasks.html">Running Tasks</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/devguide/deploy-apps/cf-scale.html">Scaling an App Using cf scale</a>
                  </li>
                  <li class="">
                     <a href="/pivotalcf/2-5/devguide/deploy-apps/healthchecks.html">Using Application Health Checks</a>
                  </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/deploy-apps/cf-networking.html">Configuring Container-to-Container Networking</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/egress-policies.html">Administering Dynamic Egress Policies (Beta)</a>
               </li>
               </ul>
            </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/deploy-apps/environment-variable.html">Cloud Foundry Environment Variables</a>
               </li>

               <li class="">
                  <a href="/pivotalcf/2-5/devguide/capi/client-libraries.html">Cloud Controller API Client Libraries</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/deploy-apps/prepare-to-deploy.html">Considerations for Designing and Running an App in the Cloud</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/security/index.html">Security and Compliance</a>
            <ul>
            <li class="has_submenu">
               <a href="/pivotalcf/2-5/security/process/index.html">PCF Security Processes</a>
              <ul>
               <li class=""><a href="/pivotalcf/2-5/security/process/pcf-security.html">PCF Security Overview and Policy</a>
               </li>
               <li class=""><a href="/pivotalcf/2-5/security/process/security-lifecycle.html">PCF Testing, Release, and Security Lifecycle</a>
               </li>
              </ul>
            </li>
               <li class="">
                  <a href="/pivotalcf/2-5/security/concepts/index.html">Security Concepts</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/security/pcf-infrastructure/index.html">PCF Infrastructure Security</a>
                  <ul>
                 <li class="has_submenu">
                  <a href="/pivotalcf/2-5/security/pcf-infrastructure/stemcell-index.html">Stemcell Security</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/pcf-infrastructure/stemcell-hardening.html">Linux Stemcell Hardening</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/security/pcf-infrastructure/certificates-index.html">Certificates and TLS in PCF</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/tls-info.html">TLS Connections in PCF</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/pcf-infrastructure/custom-ca-cert.html">Custom Certificate Authorities</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/pcf-infrastructure/certificate-types.html">Certificate Types</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/pcf-infrastructure/managing-certificates.html">Managing Certificates with the Ops Manager API</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/pcf-infrastructure/api-cert-rotation.html">Rotating Certificates</a>
                     </li>
                     <li class="">
                     <a href="/pivotalcf/2-5/devguide/deploy-apps/trusted-system-certificates.html">Trusted System Certificates</a>
                     </li>
                  </ul>
                 </li>
                     <li class="">
                     <a href="/pivotalcf/2-5/security/pcf-infrastructure/disk-encrypt.html">Disk Encryption</a>
                     </li>
                    <li class="">
                     <a href="/pivotalcf/2-5/loggregator/cc-uaa-logging.html">Security Event Logging</a>
                   </li>
                 </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/security/networking/index.html">Network Security</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/bosh-dns-network-paths.html">BOSH DNS Network Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/cc-network-paths.html">Cloud Controller Network Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/c2c-network-paths.html">Container-to-Container Networking Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/credhub-network-paths.html">CredHub Network Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/diego-network-paths.html">Diego Network Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/loggregator-network-paths.html">Loggregator Network Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/mysql-network-paths.html">MySQL Network Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/nats-network-paths.html">NATS Network Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/routing-network-paths.html">Routing Network Communications</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/networking/uaa-network-paths.html">UAA Network Communications</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/security/identity/index.html">Credential and Identity Management</a>
               <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/user-types.html">Pivotal Cloud Foundry User Types</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/credentials.html">Retrieving Credentials from Your Deployment</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/credhub/index.html">CredHub Overview</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/credhub/credential-types.html">CredHub Credential Types</a>
               </li>
               </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/security/apps-services/index.html">Security for Apps and Services</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/security/security-adjacent/index.html">Compliance and Other Security-Related Topics</a>
                  <ul>
                   <li class="">
                  <a href="https://docs.pivotal.io/nist/index.html">NIST Controls and PCF</a>
                   </li>
                   <li class="">
                  <a href="/pivotalcf/2-5/opsguide/gdpr.html">General Data Protection Regulation</a>
                    </li>
                      <li class="">
                        <a href="/pivotalcf/2-5/security/tiles/index.html">Security-Related PCF Tiles and Add-ons</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/security/security-adjacent/security-guidelines-iaas.html">Security Guidelines for Your IaaS Provider</a>
                     </li>
                  </ul>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/buildpacks/index.html">Buildpacks</a>
            <ul>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/buildpacks/using-buildpacks.html">About Buildpacks</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/understand-buildpacks.html">Buildpacks</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/stack-association.html">Stack Association</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/use-multiple-buildpacks.html">Pushing an Application with Multiple Buildpacks</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/proxy-usage.html">Using a Proxy</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/supported-binary-dependencies.html">Supported Binary Dependencies</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/prod-server.html">Production Server Configuration</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/buildpacks/binary/index.html">Binary</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/buildpacks/go/index.html">Go</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/buildpacks/hwc/index.html">HWC (.NET Framework)</a>
                  <ul>
                     <li class="">
                       <a href="/pivotalcf/2-5/buildpacks/hwc/extension-buildpack.html">Creating an Extension Buildpack for .NET Apps</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/windows/using.html">Tips for .NET Developers</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/buildpacks/java/index.html">Java</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/java/java-tips.html">Tips for Java Developers</a>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/buildpacks/java/getting-started-deploying-apps/index.html">Getting Started Deploying Apps</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/java/getting-started-deploying-apps/gsg-grails.html">Grails</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/java/getting-started-deploying-apps/gsg-ratpack.html">Ratpack</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/java/getting-started-deploying-apps/gsg-spring.html">Spring</a>
                           </li>
                        </ul>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/buildpacks/java/configuring-service-connections/index.html">Configuring Service Connections</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/java/configuring-service-connections/grails-service-bindings.html">Grails</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/java/configuring-service-connections/play-service-bindings.html">Play</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/java/configuring-service-connections/spring-service-bindings.html">Spring</a>
                           </li>
                        </ul>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/java/java-client.html">Cloud Foundry Java Client Library</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/buildpacks/nginx/index.html">NGINX</a>
               </li>
               <li class="">
                 <a href="/pivotalcf/2-5/buildpacks/dotnet-core/index.html">.NET Core</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/buildpacks/node/index.html">Node.js</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/node/node-tips.html">Tips for Node.js Developers</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/node/node-environment.html">Environment Variables Defined by the Node Buildpack</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/node/node-service-bindings.html">Configuring Service Connections for Node</a>
                     </li>
                  </ul>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/buildpacks/php/index.html">PHP</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/php/gsg-php-tips.html">Tips for PHP Developers</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/php/gsg-php-usage.html">Getting Started Deploying PHP Apps</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/php/gsg-php-config.html">PHP Buildpack Configuration</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/php/gsg-php-composer.html">Composer</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/php/gsg-php-sessions.html">Sessions</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/php/gsg-php-newrelic.html">New Relic</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/buildpacks/python/index.html">Python</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/buildpacks/r/index.html">R</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/buildpacks/ruby/index.html">Ruby</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/ruby/ruby-tips.html">Tips for Ruby Developers</a>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/buildpacks/ruby/deploying-apps-index.html">Getting Started Deploying Apps</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/ruby/gsg-ruby.html">Ruby</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/ruby/gsg-ror.html">Ruby on Rails</a>
                           </li>
                        </ul>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/ruby/rake-config.html">Configuring Rake Tasks for Deployed Apps</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/ruby/ruby-environment.html">Environment Variables Defined by the Ruby Buildpack</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/ruby/ruby-service-bindings.html">Configuring Service Connections for Ruby</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/ruby/windows.html">Support for Windows Gemfiles</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/buildpacks/staticfile/index.html">Staticfile</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/buildpacks/developing-buildpacks.html">Customizing and Developing Buildpacks</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/custom.html">Creating Custom Buildpacks</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/depend-pkg-offline.html">Packaging Dependencies for Offline Buildpacks</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/merging_upstream.html">Merging from Upstream Buildpacks</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/buildpacks/upgrading_dependency_versions.html">Upgrading Dependency Versions</a>
                     </li>
                     <li class="has_submenu">
                        <a href="/pivotalcf/2-5/buildpacks/buildpack-ci-index.html">Using CI for Buildpacks</a>
                        <ul>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/releasing_a_new_buildpack_version.html">Releasing a New Buildpack Version</a>
                           </li>
                           <li class="">
                              <a href="/pivotalcf/2-5/buildpacks/updating-buildpack-related-gems.html">Updating Buildpack-Related Gems</a>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/services/index.html">Custom Services</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/services/overview.html">Overview</a>
               </li>
               <li class="has_submenu">
                  <span>Service Broker API</span>
                  <ul>
                     <li>
                        <a href="https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md">Open Service Broker API</a>
                     </li>
                     <li>
                        <a href="https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md">Platform Profiles</a>
                     </li>
                     <li>
                        <a href="https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#service-metadata">Catalog Metadata</a>
                     </li>
                     <li>
                        <a href="https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#volume-mounts-object">Volume Services</a>
                     </li>
                     <li>
                        <a href="https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/release-notes.md">Release Notes</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/managing-service-brokers.html">Managing Service Brokers</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/access-control.html">Access Control</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/dashboard-sso.html">Dashboard Single Sign-On</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/examples.html">Example Service Brokers</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/binding-credentials.html">Binding Credentials</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/enable-sharing.html">Enabling Service Instance Sharing</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/app-log-streaming.html">Application Log Streaming</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/route-services.html">Route Services</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/services/supporting-multiple-cf-instances.html">Supporting Multiple Cloud Foundry Instances</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/loggregator/index.html">Logging and Metrics</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/loggregator/data-sources.html">Overview of Logging and Metrics</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/loggregator/architecture.html">Loggregator Architecture</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/loggregator/log-ops-guide.html">Loggregator Guide for Cloud Foundry Operators</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/loggregator/nozzle-tutorial.html">Deploying a Nozzle to the Loggregator Firehose</a>
                     </li>
                     <li class="">
                        <a href="/pivotalcf/2-5/loggregator/cli-plugin.html">Installing the Loggregator Plugin for cf CLI</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/devguide/deploy-apps/streaming-logs.html">Application Logging in Cloud Foundry</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/custom-syslog-rules.html">Customizing Platform Log Forwarding</a>
               </li>
               <li class="has_submenu">
                  <a href="/pivotalcf/2-5/metric-registrar/index.html">Configuring the Metric Registrar</a>
                  <ul>
                     <li class="">
                        <a href="/pivotalcf/2-5/metric-registrar/using.html">Registering Custom App Metrics</a>
                     </li>
                  </ul>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/opsguide/identify-metric-source.html">Identifying the Source Deployment of Metrics</a>
               </li>
            </ul>
         </li>
         <li class="has_submenu">
            <a href="/pivotalcf/2-5/customizing/troubleshooting-diagnostics.html">Troubleshooting and Diagnostics</a>
            <ul>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/diagnostics.html">Diagnosing Problems in PCF</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/troubleshooting.html">Troubleshooting Problems in PCF</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/trouble-advanced.html">Advanced Troubleshooting with the BOSH CLI</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/adminguide/troubleshooting_slow_requests.html">Troubleshooting Slow Requests in Cloud Foundry</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/adminguide/troubleshooting_tcp_routing.html">Troubleshooting TCP Routing</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/adminguide/troubleshooting-router-error-responses.html">Troubleshooting Router Error Responses</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/backup-restore/troubleshooting-bbr.html">Troubleshooting BBR</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/azure-troubleshooting.html">Troubleshooting PCF on Azure</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/gcp-troubleshooting.html">Troubleshooting PCF on GCP</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/customizing/troubleshooting-vsphere.html">Troubleshooting Ops Manager for VMware vSphere</a>
               </li>
               <li class="">
                  <a href="/pivotalcf/2-5/windows/troubleshooting.html">Troubleshooting Windows Cells</a>
               </li>
            </ul>
         </li>
      </ul>
   </div>
</div>

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
          <div class="local-header title-container">
    <div class="local-header version-info">
      LATEST VERSION: 2.5 - <a href="https://docs.pivotal.io/pivotalcf/pcf-release-notes/">RELEASE NOTES</a>
    </div>
    <div class="local-header local-title clearfix">
      <img src="/images/cloud_rings.png">
      <span class="local-header-title">Pivotal Cloud Foundry
      </span>
      <span onClick="return true" class="local-header local-version header-dropdown">
        <a class="local-header header-dropdown-link">v2.5</a>
        <span class="local-header header-dropdown-content">
          <ul>
                <li>
                    <a href="https://docs.pivotal.io/pivotalcf/2-4/monitoring/kpi.html">v2.4</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/pivotalcf/2-3/monitoring/kpi.html">v2.3</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/pivotalcf/2-2/monitoring/kpi.html">v2.2</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/archives/pcf-docs-2.1.pdf">v2.1</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/archives/pcf-docs-2.0.pdf">v2.0</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/archives/pcf-docs-1.12.pdf">v1.12</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/archives/pcf-docs-1.11.pdf">v1.11</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/archives/pcf-docs-1.10.pdf">v1.10</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/archives/pcf-docs-1.9.pdf">v1.9</a>
                </li>
                <li>
                    <a href="https://docs.pivotal.io/archives/pcf-docs-1.8.pdf">v1.8</a>
                </li>
          </ul>
        </span>
      </span>

      <!-- search was here -->
    </div>
    <div class="local-header local-header-links">
        <a href="https://network.pivotal.io/">Download</a>
        <a href="https://support.pivotal.io/hc/en-us/requests/new">Ask for Help</a>
        <a href="https://discuss.pivotal.io/hc/en-us/categories/200072648-Pivotal-CF-Knowledge-Base">PCF Knowledge Base</a>
        <a href="https://docs.pivotal.io/archives/pcf-docs-2.5.pdf">PDF</a>
    </div>
  </div>

          <h1 class="title-container" >
    Key Performance Indicators
  </h1>

          <div id="js-quick-links" >
            <div class="quick-links"><ul>
<li>
<a href="#auctioneer">Diego Auctioneer Metrics</a><ul>
<li><a href="#AuctioneerLRPAuctionsFailed">Auctioneer App Instance (AI) Placement Failures</a></li>
<li><a href="#AuctioneerFetchStatesDuration">Auctioneer Time to Fetch Cell State</a></li>
<li><a href="#AuctioneerLRPAuctionsStarted">Auctioneer App Instance Starts</a></li>
<li><a href="#AuctioneerTaskAuctionsFailed">Auctioneer Task Placement Failures</a></li>
</ul>
</li>
<li>
<a href="#bbs">Diego BBS Metrics</a><ul>
<li><a href="#ConvergenceLRPDuration">BBS Time to Run LRP Convergence</a></li>
<li><a href="#RequestLatency">BBS Time to Handle Requests</a></li>
<li><a href="#cc-diego-sync">Cloud Controller and Diego in Sync</a></li>
<li><a href="#LRPsExtra">More App Instances Than Expected</a></li>
<li><a href="#LRPsMissing">Fewer App Instances Than Expected</a></li>
<li><a href="#bbs.CrashedActualLRPs">Crashed App Instances</a></li>
<li><a href="#1hraverageofbbs.LRPsRunning">Running App Instances, Rate of Change</a></li>
</ul>
</li>
<li>
<a href="#cell">Diego Cell Metrics</a><ul>
<li><a href="#rep.CapacityRemainingMemory">Remaining Memory Available &mdash; Cell Memory Chunks Available</a></li>
<li><a href="#rep.CapacityRemainingMemory2">Remaining Memory Available &mdash; Overall Remaining Memory Available</a></li>
<li><a href="#rep.CapacityRemainingDiskChunks">Remaining Disk Available &mdash; Cell Disk Chunks Available</a></li>
<li><a href="#CapacityRemainingDisk">Remaining Disk Available - Overall Remaining Disk Available</a></li>
<li><a href="#RepBulkSyncDuration">Cell Rep Time to Sync</a></li>
<li><a href="#UnhealthyCell">Unhealthy Cells</a></li>
</ul>
</li>
<li>
<a href="#locket">Diego Locket Metrics</a><ul>
<li><a href="#ActiveLocks">Active Locks</a></li>
<li><a href="#BBSActiveLocks">Locks Held by BBS</a></li>
<li><a href="#AuctioneerActiveLocks">Locks Held by Auctioneer</a></li>
<li><a href="#ActivePresences">Active Presences</a></li>
</ul>
</li>
<li>
<a href="#route_emitter">Diego Route Emitter Metrics</a><ul><li><a href="#RouteEmitterSyncDuration">Route Emitter Time to Sync</a></li></ul>
</li>
<li>
<a href="#kpi4MySQL">PAS MySQL KPIs</a><ul>
<li><a href="#server-heartbeat">MySQL Server Availability</a></li>
<li><a href="#wsrep-ready">Galera Cluster Node Readiness</a></li>
<li><a href="#wsrep-cluster-size">Galera Cluster Size</a></li>
<li><a href="#wsrep-cluster-status">Galera Cluster Status</a></li>
<li><a href="#connections">Connections per Second</a></li>
<li><a href="#cpu-utilization-percent">CPU Utilization Percent</a></li>
<li><a href="#queries-delta">Queries Delta</a></li>
</ul>
</li>
<li>
<a href="#gorouter">Gorouter Metrics</a><ul>
<li><a href="#file_descriptors">Router File Descriptors</a></li>
<li><a href="#exhausted_connections">Router Exhausted Connections</a></li>
<li><a href="#total_requests">Router Throughput</a></li>
<li><a href="#latency">Router Handling Latency</a></li>
<li><a href="#mssincelastregistryupdate">Time Since Last Route Register Received</a></li>
<li><a href="#bad_gateways">Router Error: 502 Bad Gateway</a></li>
<li><a href="#responses.5xx">Router Error: Server Error</a></li>
<li><a href="#total_routes">Number of Gorouter Routes Registered</a></li>
<li><a href="#route-registration">Number of Route Registration Messages Sent and Received</a></li>
</ul>
</li>
<li>
<a href="#uaa">UAA Metrics</a><ul>
<li><a href="#uaa_throughput">UAA Throughput</a></li>
<li><a href="#uaa_latency">UAA Request Latency</a></li>
<li><a href="#uaa_requests_inflight">UAA Requests In Flight</a></li>
</ul>
</li>
<li>
<a href="#bosh">System (BOSH) Metrics</a><ul>
<li><a href="#healthy">VM Health</a></li>
<li><a href="#mem.percent">VM Memory Used</a></li>
<li><a href="#disk.system.percent">VM Disk Used</a></li>
<li><a href="#disk.ephemeral.percent">VM Ephemeral Disk Used</a></li>
<li><a href="#disk.persistent.percent">VM Persistent Disk Used</a></li>
<li><a href="#cpu.user">VM CPU Utilization</a></li>
</ul>
</li>
</ul></div>
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        <p>This topic describes Key Performance Indicators (KPIs) that operators may want to monitor with their Pivotal Application Service (PAS) deployment to help ensure it is in a good operational state.</p>

<p>The following PAS v2.5 KPIs are provided for operators to give general guidance on monitoring a PAS deployment using platform component and system (BOSH) metrics.  Although many metrics are emitted from the platform, the following PAS v2.4 KPIs are high-signal-value metrics that can indicate emerging platform issues. </p>

<p>This alerting and response guidance has been shown to apply to most deployments. Pivotal recommends that operators continue to fine-tune the alert measures to their deployment by observing historical trends. Pivotal also recommends that operators expand beyond this guidance and create new, deployment-specific monitoringmetrics, thresholds, and alerts based on learning from their deployments.</p>

<p class="note"><strong>Note:</strong> Thresholds noted as &ldquo;dynamic&rdquo; in the tables below indicate that while a metric is highly important to watch, the relative numbers to set threshold warnings at are specific to a given PAS deployment and its use cases. These dynamic thresholds should be occasionally revisited because the PCF foundation and its usage continue to evolve. See <a href="metrics.html#thresholds">Determine Warning and Critical Thresholds</a> for more information.</p>

<h2 id="-diego-auctioneer-metrics"><a id="auctioneer"></a> Diego Auctioneer Metrics</h2>

<h3 id="-auctioneer-app-instance-(ai)-placement-failures"><a id="AuctioneerLRPAuctionsFailed"></a> Auctioneer App Instance (AI) Placement Failures</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br> auctioneer.AuctioneerLRPAuctionsFailed<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>The number of Long Running Process (LRP) instances that the auctioneer failed to place on Diego cells. This metric is cumulative over the lifetime of the auctioneer job.<br><br>
   
      <strong>Use</strong>: This metric can indicate that PAS is out of container space or that there is a lack of resources within your environment. This indicator also increases when the LRP is requesting an isolation segment, volume drivers, or a stack that is unavailable, either not deployed or lacking sufficient resources to accept the work. 
  <br><br> 
          This metric is emitted on event, and therefore gaps in receipt of this metric can be normal during periods of no app instances being scheduled. 
          <br><br>
      This error is most common due to capacity issues, for example, if cells do not have 
      enough resources, or if cells are going back and forth between a healthy and unhealthy state.
      <br><br>
      <strong>Origin</strong>: Firehose<br>
      <strong>Type</strong>: Counter (Integer)<br>
      <strong>Frequency</strong>: During each auction<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Per minute delta averaged over a 5-minute window</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &ge; 0.5<br>
      <strong>Red critical</strong>: &ge; 1</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
         <ol>
        <li>To best determine the root cause, examine the Auctioneer logs. Depending on the specific error and resource constraint, you may also find a failure reason in the Cloud Controller (CC) API.</li> 
            <li>Investigate the health of your Diego cells to determine if they
            are the resource type causing the problem.</li> 
            <li>Consider scaling additional cells using Ops Manager.</li>
            <li>If scaling cells does not solve the problem, pull Diego brain logs and BBS node logs
             and contact Pivotal Support telling them that LRP auctions are failing.</li>
         </ol>
      </td>
   </tr>
</table>

<h3 id="-auctioneer-time-to-fetch-cell-state"><a id="AuctioneerFetchStatesDuration"></a> Auctioneer Time to Fetch Cell State</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>auctioneer.AuctioneerFetchStatesDuration<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td> Time in ns that the auctioneer took to fetch state from all the Diego cells when running its auction.<br><br>

      <strong>Use</strong>: Indicates how the cells themselves are performing. 
      Alerting on this metric helps alert that app staging requests to Diego may be failing.

      <br><br>
      <strong>Origin</strong>: Firehose<br>
      <strong>Type</strong>: Gauge, integer in ns<br>
      <strong>Frequency</strong>: During event, during each auction<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td> Maximum over the last 5 minutes divided by 1,000,000,000</td>
   </tr>
   <tr>
         <th>Recommended alert thresholds</th>
         <td><strong>Yellow warning</strong>: &ge; 2 s<br>
         <strong>Red critical</strong>: &ge; 5 s</td>
   </tr>
   <tr>
      <th>Recommended response</th>
        <td>
          <ol>
             <li>Check the health of the cells by reviewing the logs and looking for errors.</li>
             <li>Review IaaS console metrics.</li>
         <li>Inspect the Auctioneer logs to determine if one or more cells is taking significantly longer to fetch state than other cells. Relevant log lines will have wording like `fetched cell state`. </li>  
             <li>Pull Diego brain logs, cell logs, and auctioneer logs and contact Pivotal Support telling them that fetching cell states is taking too long.</li>
          </ol>
       </td>
   </tr>
</table>

<h3 id="-auctioneer-app-instance-starts"><a id="AuctioneerLRPAuctionsStarted"></a> Auctioneer App Instance Starts</h3>

<table> 
   <tr><th colspan="2" style="text-align: center;"><br>auctioneer.AuctioneerLRPAuctionsStarted<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>The number of LRP instances that the auctioneer successfully placed on Diego cells. This metric is cumulative over the lifetime of the auctioneer job. 
                        <br><br>
                <strong>Use</strong>: Provides a sense of running system activity levels in your environment. 
                Can also give you a sense of how many app instances have been started over time.
                The recommended measurement, below, can help indicate a significant amount of container churn. 
                However, for capacity planning purposes, it is more helpful to observe deltas over a long time window. 
                 <br><br>
        This metric is emitted on event, and therefore gaps in receipt of this metric can be normal during periods of no app instances being scheduled. 
         <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Counter (Integer)<br>
                 <strong>Frequency</strong>: During event, during each auction<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Per minute delta averaged over a 5-minute window</td>
</tr>
<tr>
<th>Recommended alert thresholds</th>
<td><strong>Yellow warning</strong>: Dynamic<br>
<strong>Red critical</strong>: Dynamic</td>
</tr>
<tr>
<th>Recommended response</th>
<td>
When observing a significant amount of container churn, do the following:<br><br>
    <ol>
    <li>Look to eliminate explainable causes of temporary churn, such as a deployment or increased developer activity.</li>
    <li>If container churn appears to continue over an extended period, pull logs from the Diego Brain and BBS node before contacting Pivotal support.</li>
    </ol>       
When observing extended periods of high or low activity trends, scale up or down CF components as needed.

    </td>
</tr>
</table>

<h3 id="-auctioneer-task-placement-failures"><a id="AuctioneerTaskAuctionsFailed"></a> Auctioneer Task Placement Failures</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>auctioneer.AuctioneerTaskAuctionsFailed<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>The number of Tasks that the auctioneer failed to place on Diego cells. This metric is cumulative over the lifetime of the auctioneer job. 
                        <br><br>
                <strong>Use</strong>: Failing Task auctions indicate a lack of resources 
                        within your environment and that you likely need to scale. 
                        This indicator also increases when the Task is requesting an isolation segment, volume drivers, 
                        or a stack that is unavailable, either not deployed or lacking sufficient resources to accept the work.
                <br><br>
            This metric is emitted on event, and therefore gaps in receipt of this metric can be normal during periods of no tasks being scheduled.
            <br><br>
            This error is most common due to capacity issues, for example, if cells do not have enough resources, or if cells are going back and forth between a healthy and unhealthy state. 
            <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Counter (Float)<br>
                 <strong>Frequency</strong>: During event, during each auction<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Per minute delta averaged over a 5-minute window</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 0.5 <br>
                <strong>Red critical</strong>: &ge; 1</td>
        </tr>
<tr>
<th>Recommended response</th>
<td>
    <ol>
        <li>In order to best determine the root cause, examine the Auctioneer logs. Depending on the specific error or resource constraint, you may also find a failure reason in the CC API.</li>
    <li>Investigate the health of Diego cells.</li>
    <li>Consider scaling additional cells using Ops Manager.</li>
    <li>If scaling cells does not solve the problem, pull Diego brain logs and BBS logs for troubleshooting and contact Pivotal Support for additional troubleshooting. Inform Pivotal Support that Task auctions are failing.</li>
    </ol>
    </td>
</tr>
</table>

<h2 id="-diego-bbs-metrics"><a id="bbs"></a> Diego BBS Metrics</h2>

<h3 id="-bbs-time-to-run-lrp-convergence"><a id="ConvergenceLRPDuration"></a> BBS Time to Run LRP Convergence</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>bbs.ConvergenceLRPDuration<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Time in ns that the BBS took to run its LRP convergence pass. 
          <br><br>
          <strong>Use</strong>: If the convergence run begins taking too long, 
          apps or Tasks may be crashing without restarting. 
          This symptom can also indicate loss of connectivity to the BBS database.
          <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge (Integer in ns)<br>
          <strong>Frequency</strong>: During event,
                  every 30 seconds when LRP convergence runs, emission should be near-constant on a running deployment
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Maximum over the last 15 minutes divided by 1,000,000,000</td>
   </tr>
      <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &ge; 10 s<br>
          <strong>Red critical</strong>: &ge; 20 s</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
              <li>Check BBS logs for errors.</li>
              <li>Try vertically scaling the BBS VM resources up. 
              For example, add more CPUs or memory depending on its <code>system.cpu</code>/<code>system.memory</code> metrics.</li>
          <li>Consider vertically scaling the PAS backing database, if <code>system.cpu</code> and <code>system.memory</code> metrics for the database instances are high.</li>
          <li>If that does not solve the issue, pull the BBS logs and contact Pivotal Support for additional troubleshooting.
          </ol>
          </td>
   </tr>
</table>

<h3 id="-bbs-time-to-handle-requests"><a id="RequestLatency"></a> BBS Time to Handle Requests</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>bbs.RequestLatency<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>The maximum observed latency time over the past 60 seconds that the BBS took to handle requests across all its API endpoints.<br><br>
          Diego is now aggregating this metric to emit the max value observed over 60 seconds.
          <br><br>
          <strong>Use</strong>: If this metric rises, the PAS API is slowing. 
          Response to certain cf CLI commands is slow if request latency is high.
          <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge (Integer in ns)<br>
          <strong>Frequency</strong>: 60 s<br>
    </tr>
    <tr>
      <th>Recommended measurement</th>
      <td>Average over the last 15 minutes divided by 1,000,000,000</td>
    </tr>
    <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &ge; 5 s<br>
          <strong>Red critical</strong>: &ge; 10 s</td>
    </tr>
    <tr>
      <th>Recommended response</th>
      <td>
          <ol>
              <li>Check CPU and memory statistics in Ops Manager.</li>
              <li>Check BBS logs for faults and errors that can indicate issues with BBS.</li>
              <li>Try scaling the BBS VM resources up. For example, add more CPUs/memory 
                  depending on its <code>system.cpu</code>/<code>system.memory</code> metrics.</li>
              <li>Consider vertically scaling the PAS backing database, if <code>system.cpu</code> and <code>system.memory</code> metrics for the database instances are high.</li> 
          <li>If the above steps do not solve the issue, collect a sample of the cell logs from the BBS VMs and contact Pivotal Support to troubleshoot further.
          </ol>
          </td>
    </tr>
</table>

<h3 id="-cloud-controller-and-diego-in-sync"><a id="cc-diego-sync"></a> Cloud Controller and Diego in Sync</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>bbs.Domain.cf-apps<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Indicates if the <code>cf-apps</code> Domain is up-to-date, meaning that CF App requests from Cloud Controller are synchronized to <code>bbs.LRPsDesired</code> (Diego-desired AIs) for execution. 
            <ul>
              <li><code>1</code> means <code>cf-apps</code> Domain is up-to-date</li>
              <li>No data received means <code>cf-apps</code> Domain is not up-to-date</li>
            </ul>
          <strong>Use</strong>: If the <code>cf-apps</code> Domain does not stay up-to-date, changes requested in the Cloud Controller are not guaranteed to propagate throughout the system. If the Cloud Controller and Diego are out of sync, then apps running could vary from those desired.
      <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge (Float)<br>
          <strong>Frequency</strong>: 30 s<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Value over the last 5 minutes</code></td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: <em>N/A</em> <br>
      <strong>Red critical</strong>:  &ne; 1
      <br><br>
        The recommended threshold value represents a state where an up-to-date metric <code>1</code> has not been received for the entire 5-minute window.</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
              <li>Check the BBS and Clock Global (Cloud Controller clock) logs.</li>
              <li>If the problem continues, pull the BBS logs and Clock Global (Cloud Controller clock) logs
                  and contact Pivotal Support to say that the <code>cf-apps</code> domain is not being kept fresh.</li>
          </ol>
      </td>
   </tr>
</table>

<h3 id="-more-app-instances-than-expected"><a id="LRPsExtra"></a> More App Instances Than Expected</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>bbs.LRPsExtra<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Total number of LRP instances that are no longer desired but still have a BBS record. 
                    When Diego wants to add more apps, the BBS sends a request to the auctioneer 
                    to spin up additional LRPs. LRPsExtra is the total number of LRP instances that are no longer desired but still have a BBS record. 
                        <br><br>
                <strong>Use</strong>: If Diego has more LRPs running than expected, 
                        there may be problems with the BBS.<br><br>
                        Deleting an app with many instances can temporarily spike this metric.  
                        However, a sustained spike in <code>bbs.LRPsExtra</code> is unusual and should be investigated.
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float)<br>
                 <strong>Frequency</strong>: 30 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 5 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 5<br>
                <strong>Red critical</strong>: &ge; 10</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Review the BBS logs for proper operation or errors, looking for detailed error messages.</li>
                        <li>If the condition persists, pull the BBS logs and contact Pivotal Support.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-fewer-app-instances-than-expected"><a id="LRPsMissing"></a> Fewer App Instances Than Expected</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>bbs.LRPsMissing<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Total number of LRP instances that are desired but have no record in the BBS. When Diego wants to add more apps, the BBS sends a request to the auctioneer 
                        to spin up additional LRPs. LRPsMissing is the total number of LRP instances that are desired but have no BBS record. 
                        <br><br>
                <strong>Use</strong>: If Diego has less LRP running than expected, there may be problems with the BBS.<br><br> 
                        An app push with many instances can temporarily spike this metric. However, a sustained spike in <code>bbs.LRPsMissing</code> is unusual and should be investigated.
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float)<br>
                 <strong>Frequency</strong>: 30 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 5 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 5<br>
                <strong>Red critical</strong>: &ge; 10</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Review the BBS logs for proper operation or errors, looking for detailed error messages.</li>
                        <li>If the condition persists, pull the BBS logs and contact Pivotal Support.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-crashed-app-instances"><a id="bbs.CrashedActualLRPs"></a> Crashed App Instances</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>bbs.CrashedActualLRPs<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Total number of LRP instances that have crashed.
                <br><br>
                <strong>Use</strong>: Indicates how many instances in the deployment are in a crashed state. 
                An increase in <code>bbs.CrashedActualLRPs</code> can indicate several problems, 
                from a bad app with many instances associated, 
                to a platform issue that is resulting in app crashes. 
                Use this metric to help create a baseline for your deployment. 
                After you have a baseline, you can create a deployment-specific alert to notify of a spike in crashes above the trend line. 
                Tune alert values to your deployment. 
                <br><br>
                <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float)<br>
                 <strong>Frequency</strong>: 30 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 5 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: Dynamic<br>
                <strong>Red critical</strong>: Dynamic</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Look at the BBS logs for apps that are crashing 
                            and at the cell logs to see if the problem is with the apps themselves, rather than 
                            a platform issue.</li>
                        <li>Before contacting Pivotal Support, pull the BBS logs and, if particular apps are the problem,
                            pull the logs from their Diego cells too.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-running-app-instances,-rate-of-change"><a id="1hraverageofbbs.LRPsRunning"></a> Running App Instances, Rate of Change</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>1hr average of bbs.LRPsRunning – prior 1hr average of bbs.LRPsRunning<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Rate of change in app instances being started or stopped on the platform. 
                    It is derived from <code>bbs.LRPsRunning</code>
                    and represents the total number of LRP instances that are running on Diego cells.
                    <br><br>
                    <strong>Use</strong>: Delta reflects upward or downward trend for app instances started or stopped. 
                    Helps to provide a picture of the overall growth trend of the environment for capacity planning. 
                    You may want to alert on delta values outside of the expected range.
                    <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float)<br>
                 <strong>Frequency</strong>: During event, 
                         emission should be constant on a running deployment<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>derived=(1-hour average of <code>bbs.LRPsRunning</code> – prior 1-hour average of <code>bbs.LRPsRunning</code>)</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: Dynamic<br>
                <strong>Red critical</strong>: Dynamic</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                     Scale components as necessary.
                </td>
        </tr>
</table>

<h2 id="-diego-cell-metrics"><a id="cell"></a> Diego Cell Metrics</h2>

<h3 id="-remaining-memory-available-—-cell-memory-chunks-available"><a id="rep.CapacityRemainingMemory"></a> Remaining Memory Available — Cell Memory Chunks Available</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>rep.CapacityRemainingMemory<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Remaining amount of memory in MiB available for this Diego cell to allocate to containers.
          <br><br>
          <strong>Use</strong>: Indicates the available cell memory. Insufficient cell memory can prevent pushing and scaling apps.
          <br><br>
          The strongest operational value of this metric is to understand a deployment&rsquo;s average app size and monitor/alert on ensuring that at least some cells have large enough capacity to accept standard app size pushes. For example, if pushing a 4&nbsp;GB app, Diego would have trouble placing that app if there is no one cell with sufficient capacity of 4&nbsp;GB or greater.
      <br><br>
          As an example, Pivotal Cloud Ops uses a standard of 4&nbsp;GB, and computes and monitors for the number of cells with at least 4&nbsp;GB free. When the number of cells with at least 4&nbsp;GB falls below a defined threshold, this is a scaling indicator alert to increase  capacity. This <em>free chunk</em> count threshold should be tuned to the deployment size and the standard size of apps being pushed to the deployment.<br><br>

          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge (Integer in MiB)<br>
          <strong>Frequency</strong>: 60 s<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td><b>For alerting</b>: <ol>
            <li>Determine the size of a standard app in your deployment. This is the suggested value to calculate <em>free chunks</em> of Remaining Memory by.
          <li>Create a script/tool that can iterate through each Diego Cell and do the following: 
          <ol>
          <li>Pull the <code>rep.CapacityRemainingMemory</code> metric for each cell.</li>
          <li>Divide the values received by 1000 to get the value in Gigabytes (if desired threshold is GB-based).</li>
          <li>Compare recorded values to your minimum capacity threshold, and count the number of cells that have equal or greater than the desired amount of <em>free chunk</em> space.</li>    
           </ol>
     <li> Determine a desired scaling threshold based on the minimum amount of <em>free chunks</em> that are acceptable in this deployment given historical trends.</li>
     <li> Set an alert to indicate the need to scale cell memory capacity when the value falls below the desired threshold number.</li>
          </ol> 
    <b>For visualization purposes</b>:<br>
          Looking at this metric (<code>rep.CapacityRemainingMemory</code>) as a minimum value per cell has more informational value than alerting value. It can be an interesting heatmap visualization, showing average variance and density over time.   
</td>
  </tr>
  <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: Dynamic<br>
          <strong>Red critical</strong>: Dynamic<br>
                 </td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
              <li>Assign more resources to the cells or assign more cells.</li>
                        <li>Scale additional Diego cells using Ops Manager.</li>
                    </ol>
                    </td>
        </tr>
    <tr>
      <th>Alternative Metric</th>
      <td>
      If you are using <a href="https://network.pivotal.io/products/p-healthwatch">PCF Healthwatch</a>,
      Pivotal recommends the metric <a href="http://docs.pivotal.io/pcf-healthwatch/metrics.html#free-memory-chunks">healthwatch.Diego.AvailableFreeChunks</a>
      for this purpose.
      </td>
   </tr>
</table>

<h3 id="-remaining-memory-available-—-overall-remaining-memory-available"><a id="rep.CapacityRemainingMemory2"></a> Remaining Memory Available — Overall Remaining Memory Available</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>rep.CapacityRemainingMemory<br>
       (Alternative Use)<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Remaining amount of memory in MiB available for this Diego cell to allocate to containers.
          <br><br>
          <strong>Use</strong>: Can indicate low memory capacity overall in the platform. 
          Low memory can prevent app scaling and new deployments. 
          The overall sum of capacity can indicate that you need to scale the platform.
          Observing capacity consumption trends over time helps with capacity planning.
          <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge (Integer in MiB)<br>
          <strong>Frequency</strong>: 60 s<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Minimum over the last 5 minutes divided by 1024 (across all instances)</td>
  </tr>
  <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: &le; 64 GB<br>
          <strong>Red critical</strong>: &le; 32 GB</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
              <li>Assign more resources to the cells or assign more cells.</li>
              <li>Scale additional Diego cells via Ops Manager.</li>
          </ol>
                    </td>
        </tr>
    <tr>
      <th>Alternative Metric</th>
      <td>
      If you are using <a href="https://network.pivotal.io/products/p-healthwatch">PCF Healthwatch</a>,
      Pivotal recommends the metric <a href="http://docs.pivotal.io/pcf-healthwatch/metrics.html#free-memory-chunks">healthwatch.Diego.AvailableFreeChunks</a>
      for this purpose.
      </td>
   </tr>
</table>

<h3 id="-remaining-disk-available-—-cell-disk-chunks-available"><a id="rep.CapacityRemainingDiskChunks"></a> Remaining Disk Available — Cell Disk Chunks Available</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>rep.CapacityRemainingDisk<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Remaining amount of disk in MiB available for this Diego cell to allocate to containers.
          <br><br>
          <strong>Use</strong>: Indicates the available cell disk. Insufficient free disk on cell(s) will prevent the staging or starting of apps or tasks, resulting in error messages like <code>ERR Failed to stage application: insufficient resources</code>.
          <br><br>
          Because Diego will fail to stage without at least 6 GB free, unreserved disk space on a given cell, the strongest operational value of this metric is to ensure that at least some cells have a large enough disk capacity to support the staging of apps and tasks.
      <br><br>
          Pivotal recommends computing and monitoring for the number of cells with at least 6 GB Disk free. When the number of cells with at least 6 GB falls below a defined threshold, this is a scaling indicator alert to increase capacity. The alerting threshold value for the amount of <em>free chunks</em> of Disk should be tuned to the deployment size and the standard size of apps being pushed to the deployment.
          
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge (Integer in MiB)<br>
          <strong>Frequency</strong>: 60 s<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td><b>For alerting</b>: <ol>
            <li>Because Diego will fail to stage without at least 6 GB free, this is the suggested minimum value to calculate <em>free chunks</em> of Remaining Disk by.
          <li>Create a script/tool that can iterate through each Diego Cell and do the following: 
          <ol>
          <li>Pull the <code>rep.CapacityRemainingDisk</code> metric for each cell.</li>
          <li>Divide the values received by 1000 to get the value in Gigabytes (if desired threshold is GB-based).</li>
          <li>Compare recorded values to your minimum capacity threshold, and count the number of cells that have equal or greater than the desired amount of <em>free chunk</em> space.</li>    
           </ol>
     <li> Determine a desired scaling threshold based on the minimum amount of <em>free chunks</em> that are acceptable in this deployment given historical trends.</li>
     <li> Set an alert to indicate the need to scale cell disk capacity when the value falls below the desired threshold number.</li>
          </ol> 
    <b>For visualization purposes</b>:<br>
          Looking at this metric (<code>rep.CapacityRemainingDisk</code>) as a minimum value per cell has more informational value than alerting value. It can be an interesting heatmap visualization, showing average variance and density over time.   
</td>
  </tr>
  <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: Dynamic<br>
          <strong>Red critical</strong>: Dynamic<br>
                 </td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
              <li>Assign more resources to the cells or assign more cells.</li>
                        <li>Scale additional Diego cells using Ops Manager.</li>
                    </ol>
                    </td>
        </tr>
    <tr>
      <th>Alternative Metric</th>
      <td>
      If you are using <a href="https://network.pivotal.io/products/p-healthwatch">PCF Healthwatch</a>,
      Pivotal recommends the metric <a href="http://docs.pivotal.io/pcf-healthwatch/metrics.html#free-disk-chunks">healthwatch.Diego.AvailableFreeChunksDisk</a>
      for this purpose.
      </td>
   </tr>
</table>

<h3 id="-remaining-disk-available---overall-remaining-disk-available"><a id="CapacityRemainingDisk"></a> Remaining Disk Available - Overall Remaining Disk Available</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br> rep.CapacityRemainingDisk<br>
       (Alternative Use)<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Remaining amount of disk in MiB available for this Diego cell to allocate to containers.
                    <br><br>
                    <strong>Use</strong>: Low disk capacity can prevent app scaling and new deployments. Because Diego staging Tasks can fail without at least 6&nbsp;GB free, 
                the recommended red threshold is based on the minimum disk capacity across the deployment
                falling below 6&nbsp;GB in the previous 5 minutes.
        <br><br>
        It can also be meaningful to assess how many chunks of free disk space are above a given threshold, similar to <code>rep.CapacityRemainingMemory</code>.
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Integer in MiB)<br>
                 <strong>Frequency</strong>: 60 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Minimum over the last 5 minutes divided by 1024 (across all instances)</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &le; 12&nbsp;GB<br>
                <strong>Red critical</strong>: &le; 6&nbsp;GB</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Assign more resources to the cells or assign more cells.</li>
                        <li>Scale additional cells using Ops Manager.</li>
                    </ol>
                    </td>
        </tr>
    <tr>
      <th>Alternative Metric</th>
      <td>      
      If you are using <a href="https://network.pivotal.io/products/p-healthwatch">PCF Healthwatch</a>,
      Pivotal recommends the metric <a href="http://docs.pivotal.io/pcf-healthwatch/metrics.html#free-memory-chunks">healthwatch.Diego.AvailableFreeChunks</a>
      for this purpose.
      </td>
   </tr>
</table>

<h3 id="-cell-rep-time-to-sync"><a id="RepBulkSyncDuration"></a> Cell Rep Time to Sync</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>rep.RepBulkSyncDuration<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Time in ns that the Diego Cell Rep took to sync the ActualLRPs that it claimed with its actual garden containers. 
                        <br><br>
                <strong>Use</strong>: Sync times that are too high can indicate issues with the BBS.
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float in ns)<br>
                 <strong>Frequency</strong>: 30 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Maximum over the last 15 minutes divided by 1,000,000,000</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 5 s<br>
                <strong>Red critical</strong>: &ge; 10 s </td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Investigate BBS logs for faults and errors.</li>
                        <li>If a particular cell or cells appear problematic, 
                            pull logs for the cells and the BBS logs before contacting Pivotal Support.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-unhealthy-cells"><a id="UnhealthyCell"></a> Unhealthy Cells</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>rep.UnhealthyCell<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>The Diego cell periodically checks its health against the garden backend. 
                    For Diego cells, <code>0</code> means healthy, and <code>1</code> means unhealthy.
                    <br><br>
                    <strong>Use</strong>: Set an alert for further investigation if 
                    multiple unhealthy Diego cells are detected in the given time window. 
                    If one cell is impacted, it does not participate in auctions, but end-user impact is usually low. If multiple cells are impacted, this can indicate a larger problem with Diego, and should be considered a more critical investigation need.
                 <br><br>
        Suggested alert threshold based on multiple unhealthy cells in the given time window.
        <br><br>
        Although end-user impact is usually low if only one cell is impacted, this should still be investigated. Particularly in a lower capacity environment, this situation could result in negative end-user impact if left unresolved.
        <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float, 0-1)<br>
                 <strong>Frequency</strong>: 30 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Maximum over the last 5 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: = 1<br>
                <strong>Red critical</strong>: &gt; 1 </td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Investigate Diego cell servers for faults and errors.</li>
                        <li>If a particular cell or cells appear problematic:
                          <ol><li>Determine a time interval during which the metrics from the cell changed from healthy to unhealthy.</li>
                            <li>Pull the logs that the cell generated over that interval. The Cell ID is the same as the BOSH instance ID.</li>
                            <li>Pull the BBS logs over that same time interval.</li>
                            <li>Contact Pivotal Support.</li></ol></li>
                        <li>As a last resort, if you cannot wait for Pivotal Support, it sometimes helps to recreate the cell by running <code>bosh recreate</code>.
                        See the <a href="http://bosh.io/docs/cli-v2/#deployment-mgmt">BOSH documentation</a> for <code>bosh recreate</code> command syntax. <p class="warning note"><strong>WARNING: </strong> Recreating a cell destroys its logs. To enable a root cause analysis of the cell&rsquo;s problem, save out its logs before running <code>bosh recreate</code>.</p></li>
                    </ol>
                    </td>
        </tr>
</table>

<h2 id="-diego-locket-metrics"><a id="locket"></a> Diego Locket Metrics</h2>

<h3 id="-active-locks"><a id="ActiveLocks"></a> Active Locks</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>locket.ActiveLocks<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Total count of how many locks the system components are holding.
          <br><br>
          <strong>Use</strong>: If the ActiveLocks count is not equal to the expected value, there is likely a problem with Diego.
          <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge<br>
          <strong>Frequency</strong>: 60 s
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Maximum over the last 5 minutes</td>
   </tr>
      <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: <em>N/A</em> <br>
          <strong>Red critical</strong>: &ne; 5</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
             <li>Run <code>monit status</code> to inspect for failing processes.</li>
             <li>If there are no failing processes, then review the logs for the components using the Locket service: 
                      BBS, Auctioneer, TPS Watcher, Routing API, and Clock Global (Cloud Controller clock). Look for indications that only one of each component is active at a time.</li>
              <li>Focus triage on the BBS first:
                <ul>
                  <li>A healthy BBS shows obvious activity around starting or claiming LRPs.</li>
                  <li>An unhealthy BBS leads to the Auctioneer showing minimal or no activity. The BBS sends work to the Auctioneer.</li>
                      <li>Reference the BBS-level Locket metric <a href="kpi.html#BBSActiveLocks">Locks Held by BBS</a>. A value of 0 indicates Locket issues at the BBS level.</li>
                </ul>
              <li>If the BBS appears healthy, then check the Auctioneer to ensure it is processing auction payloads.</li>
                  <ul>
                  <li>Recent logs for Auctioneer should show all but one of its instances are currently waiting on locks,
                      and the active Auctioneer should show a record of when it last attempted to execute work. This attempt should correspond to app development activity, such as <code>cf push</code>.</li>
                  <li>Reference the Auctioneer-level Locket metric <a href="kpi.html#AuctioneerActiveLocks">Locks Held by Auctioneer</a>. A value of 0 indicates Locket issues at the Auctioneer level.</li>
                </ul>
                <li>The TPS Watcher is primarily active when app instances crash. Therefore, if the TPS Watcher is suspected, review the most recent logs.</li>
              <li>If you are unable to resolve on-going excessive active locks, pull logs from the Diego BBS and Auctioneer VMs,
                  which includes the Locket service component logs, and contact Pivotal Support.</li>
          </ol>
          </td>
   </tr>
</table>

<h3 id="-locks-held-by-bbs"><a id="BBSActiveLocks"></a> Locks Held by BBS</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>bbs.LockHeld<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Whether a BBS instance holds the expected BBS lock (in Locket). 1 means the active BBS server holds the lock, and 0 means the lock was lost.
          <br><br>
          <strong>Use</strong>: This metric is complimentary to <a href="kpi.html#ActiveLocks">Active Locks</a>, and it offers a BBS-level version of the Locket metrics. Although it is emitted per BBS instance, only 1 active lock is held by BBS. Therefore, the expected value is 1. The metric may occasionally be 0 when the BBS instances are performing a leader transition, but a prolonged value of 0 indicates an issue with BBS.
          <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge<br>
          <strong>Frequency</strong>: Periodically
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Maximum over the last 5 minutes</td>
   </tr>
      <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: <em>N/A</em> <br>
          <strong>Red critical</strong>: &ne; 1</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
             <li>Run <code>monit status</code> on the Diego database VM to check for failing processes.</li>
             <li>If there are no failing processes, then review the logs for BBS.
                 <ul>
                   <li>A healthy BBS shows obvious activity around starting or claiming LRPs.</li>
                   <li>An unhealthy BBS leads to the Auctioneer showing minimal or no activity. The BBS sends work to the Auctioneer.</li>
                 </ul>
             <li>If you are unable to resolve the issue, pull logs from the Diego BBS,
                  which include the Locket service component logs, and contact Pivotal Support.</li>
          </ol>
          </td>
   </tr>
</table>

<h3 id="-locks-held-by-auctioneer"><a id="AuctioneerActiveLocks"></a> Locks Held by Auctioneer</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>auctioneer.LockHeld<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Whether an Auctioneer instance holds the expected Auctioneer lock (in Locket). 1 means the active Auctioneer holds the lock, and 0 means the lock was lost.
          <br><br>
          <strong>Use</strong>: This metric is complimentary to <a href="kpi.html#ActiveLocks">Active Locks</a>, and it offers an Auctioneer-level version of the Locket metrics. Although it is emitted per Auctioneer instance, only 1 active lock is held by Auctioneer. Therefore, the expected value is 1. The metric may occasionally be 0 when the Auctioneer instances are performing a leader transition, but a prolonged value of 0 indicates an issue with Auctioneer. 
          <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge<br>
          <strong>Frequency</strong>: Periodically
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Maximum over the last 5 minutes</td>
   </tr>
      <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: <em>N/A</em> <br>
          <strong>Red critical</strong>: &ne; 1</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
             <li>Run <code>monit status</code> on the Diego Database VM to check for failing processes.</li>
             <li>If there are no failing processes, then review the logs for Auctioneer.
                 <ul>
                   <li>Recent logs for Auctioneer should show all but one of its instances are currently waiting on locks, and the active Auctioneer should show a record of when it last attempted to execute work. This attempt should correspond to app development activity, such as <code>cf push</code>.</li>
                 </ul>
             <li>If you are unable to resolve the issue, pull logs from the Diego BBS and Auctioneer VMs,
                  which includes the Locket service component logs, and contact Pivotal Support.</li>
          </ol>
          </td>
   </tr>
</table>

<h3 id="-active-presences"><a id="ActivePresences"></a> Active Presences</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>locket.ActivePresences<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>Total count of active presences. Presences are defined as the registration records that the cells maintain to advertise themselves to the platform. 
          <br><br>
          <strong>Use</strong>: If the Active Presences count is far from the expected, there might be a problem with Diego. 
              <br><br>
                  The number of active presences varies according to the number of cells deployed.
                  Therefore, during purposeful scale adjustments to PAS, this alerting threshold should be adjusted.<br>
                  Establish an initial threshold by observing the historical trends for the deployment over a brief period of time,
                  Increase the threshold as more cells are deployed.
                  During a rolling deploy, this metric shows variance during the BOSH lifecycle when cells are evacuated and restarted. 
                  Tolerable variance is within the bounds of the BOSH max inflight range for the instance group.
          <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Gauge<br>
          <strong>Frequency</strong>: 60 s
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Maximum over the last 15 minutes</td>
   </tr>
      <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: Dynamic <br>
          <strong>Red critical</strong>: Dynamic</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>
          <ol>
          <li>Ensure that the variance is not the result of an active rolling deploy.
                  Also ensure that the alert threshold is appropriate to the number of cells in the current deployment.</li>
          <li>Run <code>monit status</code> to inspect for failing processes.</li>
              <li>If there are no failing processes, then review the logs for the components using the Locket service itself on Diego BBS instances.</li>
              <li>If you are unable to resolve the problem, pull the logs from the Diego BBS,
                  which include the Locket service component logs, and contact Pivotal Support.</li>
      </ol>
          </td>
   </tr>
</table>

<h2 id="-diego-route-emitter-metrics"><a id="route_emitter"></a> Diego Route Emitter Metrics</h2>

<h3 id="-route-emitter-time-to-sync"><a id="RouteEmitterSyncDuration"></a> Route Emitter Time to Sync</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>route_emitter.RouteEmitterSyncDuration<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Time in ns that the active Route Emitter took to perform its synchronization pass.
                    <br><br>
                    <strong>Use</strong>: Increases in this metric indicate that the Route Emitter may have
                    trouble maintaining an accurate routing table to broadcast to the Gorouters.
                    Tune alerting values to your deployment based on historical data and adjust based on observations over time. 
                    The suggested starting point is &ge; 5 for the yellow threshold and &ge; 10 for the critical threshold. 
                    Pivotal has observed on its Pivotal Web Services deployment that above 10 s, the BBS may be failing.
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float in ns)<br>
                 <strong>Frequency</strong>: 60 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Maximum, per job, over the last 15 minutes divided by 1,000,000,000</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: Dynamic<br>
                <strong>Red critical</strong>: Dynamic</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>If all or many jobs showing as impacted, there is likely an issue with Diego.
                        <ol>
                        <li>
                        Investigate the Route Emitter and Diego BBS logs for errors.
                        </li>
                        <li>
                        Verify that app routes are functional by making a request to an app, pushing an app and pinging it, or if applicable, checking that your smoke tests have passed.
                        </li>
                        </ol>
        If one or a few jobs showing as impacted, there is likely a connectivity issue and the impacted job should be investigated further. 
                </td>
        </tr>
</table>

<h2 id="-pas-mysql-kpis"><a id="kpi4MySQL"></a> PAS MySQL KPIs</h2>

<p>When PAS uses an internal MySQL database, as configured in the PAS tile <strong>Settings</strong> tab &gt; <strong>Databases</strong> pane, the database cluster generates KPIs as described below.</p>

<p class="note"><strong>Note:</strong> This section assumes you are using the <b>Internal Databases - MySQL - MariaDB Galera Cluster</b> option as your system database.</p>

<h3 id="-mysql-server-availability"><a id="server-heartbeat"></a> MySQL Server Availability</h3>

<table><thead>
<tr>
<th></th>
<th><strong>/mysql/available</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Description</strong></td>
<td>The MySQL Server is currently responding to requests, which indicates that the server is running.<br><br> <strong>Use:</strong> This metric is especially useful in single-node mode, where cluster metrics are not relevant. If the server does not emit heartbeats, it is offline.<br><br><strong>Origin:</strong> Firehose<br> <strong>Envelope Type:</strong> Gauge<br> <strong>Unit:</strong> boolean<br><strong>Frequency:</strong> 30 s (default)</td>
</tr>
<tr>
<td><strong>Recommended measurement</strong></td>
<td>Average over the last 5 minutes</td>
</tr>
<tr>
<td><strong>Recommended alert thresholds</strong></td>
<td><strong>Yellow warning:</strong> N/A<br> <strong>Red critical:</strong> &lt; 1</td>
</tr>
<tr>
<td><strong>Recommended response</strong></td>
<td>Run <a href="/pivotalcf/2-5/mysql/mysql-diag.html"><code>mysql-diag</code></a> and check the MySQL Server logs for errors.</td>
</tr>
</tbody></table>

<h3 id="-galera-cluster-node-readiness"><a id="wsrep-ready"></a> Galera Cluster Node Readiness</h3>

<table><thead>
<tr>
<th></th>
<th><strong>/mysql/galera/wsrep_ready</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Description</strong></td>
<td>Shows whether each cluster node can accept queries. Returns only 0 or 1. When this metric is 0, almost all queries to that node fail with the error:<br> <code>ERROR 1047 (08501) Unknown Command</code><br><br> <strong>Use:</strong> Discover when nodes of a cluster have been unable to communicate and, thus, unable to accept transactions.<br><br><strong>Origin:</strong> Firehose<br> <strong>Envelope Type:</strong> Gauge<br> <strong>Unit:</strong> boolean<br><strong>Frequency:</strong> 30 s (default)</td>
</tr>
<tr>
<td><strong>Recommended measurement</strong></td>
<td>Average of values of each cluster node, over the last 5 minutes</td>
</tr>
<tr>
<td><strong>Recommended alert thresholds</strong></td>
<td><strong>Yellow warning:</strong> &lt; 1.0<br> <strong>Red critical:</strong> 0 (cluster is down)</td>
</tr>
<tr>
<td><strong>Recommended response</strong></td>
<td>- Run <a href="/pivotalcf/2-5/mysql/mysql-diag.html"><code>mysql-diag</code></a> and check the MySQL Server logs for errors.<br> - Make sure there has been no infrastructure event that affects intra-cluster communication.<br>- Ensure that <code>wsrep_ready</code> has not been set to off by using the query:<br><code>SHOW STATUS LIKE &#39;wsrep_ready&#39;;</code></td>
</tr>
</tbody></table>

<h3 id="-galera-cluster-size"><a id="wsrep-cluster-size"></a> Galera Cluster Size</h3>

<table><thead>
<tr>
<th></th>
<th><strong>/mysql/galera/wsrep_cluster_size</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Description</strong></td>
<td>The number of cluster nodes with which each node is communicating normally.<br><br> <strong>Use:</strong> When running in a multi-node configuration, this metric indicates if each member of the cluster is communicating normally with all other nodes.<br><br><strong>Origin:</strong> Firehose<br> <strong>Envelope Type:</strong> Gauge<br> <strong>Unit:</strong> count<br><strong>Frequency:</strong> 30 s (default)</td>
</tr>
<tr>
<td><strong>Recommended measurement</strong></td>
<td>(Average of the values of each node / cluster size), over the last 5 minutes</td>
</tr>
<tr>
<td><strong>Recommended alert thresholds</strong></td>
<td><strong>Yellow warning:</strong> &lt; 3.0 (availability compromised)<br> <strong>Red critical:</strong> &lt; 1.0 (cluster unavailable)</td>
</tr>
<tr>
<td><strong>Recommended response</strong></td>
<td>Run <a href="/pivotalcf/2-5/mysql/mysql-diag.html"><code>mysql-diag</code></a> and check the MySQL Server logs for errors.</td>
</tr>
</tbody></table>

<h3 id="-galera-cluster-status"><a id="wsrep-cluster-status"></a> Galera Cluster Status</h3>

<table><thead>
<tr>
<th></th>
<th><strong>/mysql/galera/wsrep_cluster_status</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Description</strong></td>
<td>Shows the primary status of the cluster component that the node is in.<br>Values are:<br> - Primary = 1<br> - Non-primary = 0<br> - Disconnected = -1<br> See: <a href="https://mariadb.com/kb/en/mariadb/galera-cluster-status-variables/">https://mariadb.com/kb/en/mariadb/galera-cluster-status-variables/</a> <br><br> <strong>Use:</strong> Any value other than &ldquo;Primary&rdquo; indicates that the node is part of a nonoperational component. This occurs in cases of multiple membership changes that result in a loss of quorum.<br><br><strong>Origin:</strong> Firehose<br> <strong>Envelope Type:</strong> Gauge<br> <strong>Unit:</strong> integer (see above)<br><strong>Frequency:</strong> 30 s (default)</td>
</tr>
<tr>
<td><strong>Recommended measurement</strong></td>
<td>Sum of each of the nodes, over the last 5 minutes</td>
</tr>
<tr>
<td><strong>Recommended alert thresholds</strong></td>
<td><strong>Yellow warning:</strong> &lt; 3 <br> <strong>Red critical:</strong> &lt; 1</td>
</tr>
<tr>
<td><strong>Recommended response</strong></td>
<td>- Check node status to ensure that they are all in working order and able to receive write-sets.<br> - Run <a href="/pivotalcf/2-5/mysql/mysql-diag.html"><code>mysql-diag</code></a> and check the MySQL Server logs for errors.</td>
</tr>
</tbody></table>

<h3 id="-connections-per-second"><a id="connections"></a> Connections per Second</h3>

<table><thead>
<tr>
<th></th>
<th><strong>/mysql/net/connections</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Description</strong></td>
<td>Connections per second made to the server.<br><br> <strong>Use:</strong> If the number of connections drastically changes or if apps are unable to connect, there might be a network or app issue.<br><br> <strong>Origin:</strong> Firehose<br> <strong>Envelope Type:</strong> Gauge<br> <strong>Unit:</strong> count<br> <strong>Frequency:</strong> 30 s (default)</td>
</tr>
<tr>
<td><strong>Recommended measurement</strong></td>
<td>(Average of all nodes / max connections), over last 1 minute</td>
</tr>
<tr>
<td><strong>Recommended alert thresholds</strong></td>
<td><strong>Yellow warning:</strong> &gt; 80%<br> <strong>Red critical:</strong> &gt; 90%</td>
</tr>
<tr>
<td><strong>Recommended response</strong></td>
<td>- Run <a href="/pivotalcf/2-5/mysql/mysql-diag.html"><code>mysql-diag</code></a> and check the MySQL Server logs for errors.<br> - When approaching 100% of max connections, Apps may be experiencing times when they cannot connect to the database. The connections per second for the cluster vary based on application instances and app utilization. If this threshold is met or exceeded for an extended period of time, monitor app usage to ensure everything is behaving as expected.</td>
</tr>
</tbody></table>

<h3 id="-cpu-utilization-percent"><a id="cpu-utilization-percent"></a> CPU Utilization Percent</h3>

<table><thead>
<tr>
<th></th>
<th><strong>/mysql/performace/cpu_utilization_percent</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Description</strong></td>
<td>CPU time being consumed by the MySQL service.<br><br> <strong>Use:</strong> A node that experiences context switching or high CPU usage will become unresponsive. This also affects the ability of the node to report metrics.<br><br> <strong>Origin:</strong> Doppler/Firehose<br> <strong>Envelope Type:</strong> Gauge<br> <strong>Unit:</strong> percent<br> <strong>Frequency:</strong> 30 s (default)</td>
</tr>
<tr>
<td><strong>Recommended measurement</strong></td>
<td>Average over last 10 minutes</td>
</tr>
<tr>
<td><strong>Recommended alert thresholds</strong></td>
<td><strong>Yellow warning:</strong> &gt; 80%<br> <strong>Red critical:</strong> &gt; 90%</td>
</tr>
<tr>
<td><strong>Recommended response</strong></td>
<td>- Run <a href="/pivotalcf/2-5/mysql/mysql-diag.html"><code>mysql-diag</code></a> and check the MySQL Server logs for errors.<br> - Determine what is using so much CPU. If it is from normal processes, update the service instance to use a plan with larger CPU capacity.</td>
</tr>
</tbody></table>

<h3 id="-queries-delta"><a id="queries-delta"></a> Queries Delta</h3>

<table><thead>
<tr>
<th></th>
<th><strong>/mysql/performace/queries_delta</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Description</strong></td>
<td>The number of statements executed by the server over the last 30 seconds.<br><br> <strong>Use:</strong> The server should always be processing some queries. If the server does not process any queries, the server is non-functional.<br><br> <strong>Origin:</strong> Doppler/Firehose<br> <strong>Envelope Type:</strong> Gauge<br> <strong>Unit:</strong> count<br> <strong>Frequency:</strong> 30 s</td>
</tr>
<tr>
<td><strong>Recommended measurement</strong></td>
<td>Average over last 2 minutes</td>
</tr>
<tr>
<td><strong>Recommended alert thresholds</strong></td>
<td><strong>Red critical:</strong> 0</td>
</tr>
<tr>
<td><strong>Recommended response</strong></td>
<td>- Run <a href="/pivotalcf/2-5/mysql/mysql-diag.html"><code>mysql-diag</code></a> and check the MySQL Server logs for errors.<br> - Investigate the MySQL server logs, such as the audit log, to understand why query rate changed and determine appropriate action.</td>
</tr>
</tbody></table>

<h2 id="-gorouter-metrics"><a id="gorouter"></a> Gorouter Metrics</h2>

<h3 id="-router-file-descriptors"><a id="file_descriptors"></a> Router File Descriptors</h3>

<table>
  <tr><th colspan="2" style="text-align: center;"><br>gorouter.file_descriptors<br><br></th></tr>
  <tr>
    <th width="25%">Description</th>
      <td>The number of file descriptors currently used by the Gorouter job.
        <br><br>
        <strong>Use</strong>: Indicates an impending issue with the Gorouter.
        Without proper mitigation, it is possible for an unresponsive app to eventually exhaust available Gorouter file descriptors and cause route starvation for other apps running on PAS. Under heavy load, this unmitigated situation can also result in the Gorouter losing its connection to NATS and all routes being pruned.
        <br><br>
        While a drop in <code>gorouter.total_routes</code> or an increase in <code>gorouter.ms_since_last_registry_update</code> helps to surface that the issue may already be occurring, alerting on <code>gorouter.file_descriptors</code> indicates that such an issue is impending.
        <br><br>
          The Gorouter limits the number of file descriptors to 100,000 per job. Once the limit is met, the Gorouter is unable to establish any new connections.
          <br><br>
          To reduce the risk of DDoS attacks, Pivotal recommends doing one or both of the following:
        <br><br>
          <ul>
            <li>Within PAS, set <strong>Max Connections Per Backend</strong> to define how many requests can be routed to any particular app instance. This prevents a single app from using all Gorouter connections. The value specified should be determined by the operator based on the use cases for that foundation. For example, Pivotal sets the number of connections to 500 for Pivotal Web Services.</li>
              <li>Add rate limiting at the load balancer level.</li>
          </ul>
        <strong>Origin</strong>: Firehose<br>
        <strong>Type</strong>: Gauge<br>
        <strong>Frequency</strong>: 5 s<br>
      </td>
    </tr>
    <tr>
      <th>Recommended measurement</th>
      <td>Maximum, per Gorouter job, over the last 5 minutes</td>
    </tr>
    <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: 50,000 per job<br>
          <strong>Red critical</strong>: 60,000 per job</td>
    </tr>
    <tr>
      <th>Recommended response</th>
      <td>
          <ol>
            <li>Identify which app(s) are requesting excessive connections and resolve the impacting issues with these apps.</li>
            <li>If the above recommended mitigation steps have not already been taken, do so.</li>
            <li>Consider adding more Gorouter VM resources to increase the number of available file descriptors.</li>
        </ol>
      </td>
    </tr>
</table>

<h3 id="-router-exhausted-connections"><a id="exhausted_connections"></a> Router Exhausted Connections</h3>

<table>
  <tr><th colspan="2" style="text-align: center;"><br>gorouter.backend_exhausted_conns<br><br></th></tr>
  <tr>
    <th width="25%">Description</th>
      <td>The lifetime number of requests that have been rejected by the Gorouter VM due to the <code>Max Connections Per Backend</code> limit being reached across all tried backends. The limit controls the number of concurrent TCP connections to any particular app instance and is configured within PAS. 
        <br><br>
        <strong>Use</strong>: Indicates that PAS is mitigating risk to other applications by self-protecting the platform against one or more unresponsive applications. Increases in this metric indicate the need to investigate and resolve issues with potentially unresponsive applications. A rapid rate of change upward is concerning and should be assessed further. 
          <br><br>
        <strong>Origin</strong>: Firehose<br>
        <strong>Type</strong>: Counter (Integer) <br>
        <strong>Frequency</strong>: 5 s<br>
      </td>
    </tr>
    <tr>
      <th>Recommended measurement</th>
      <td>Maximum delta per minute, per Gorouter job, over a 5-minute window</td>
    </tr>
    <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: Dynamic<br>
          <strong>Red critical</strong>: Dynamic</td>
    </tr>
    <tr>
      <th>Recommended response</th>
      <td>
          <ol>
            <li>If <code>gorouter.backend_exhausted_conns</code> spikes, first look to the Router Throughput metric <code>gorouter.total_requests</code> to determine if this measure is high or low in relation to normal bounds for this deployment.</li>
            <li>If Router Throughput appears within normal bounds, it is likely that <code>gorouter.backend_exhausted_conns</code> is spiking due to an unresponsive application, possibly due to application code issues or underlying application dependency issues. To help determine the problematic application, look in access logs for repeated calls to one application. Then proceed to troubleshoot this application accordingly.</li>
            <li>If Router Throughput also shows unusual spikes, the cause of the increase in <code>gorouter.backend_exhausted_conns</code> spikes is likely external to the platform. Unusual increases in load may be due to expected business events driving additional traffic to applications. Unexpected increases in load may indicate a DDoS attack risk.</li>
        </ol>
      </td>
    </tr>
</table>

<h3 id="-router-throughput"><a id="total_requests"></a> Router Throughput</h3>

<table>
   <tr><th colspan="2" style="text-align: center;"><br>gorouter.total_requests<br><br></th></tr>
   <tr>
      <th width="25%">Description</th>
      <td>The lifetime number of requests completed by the Gorouter VM, emitted per Gorouter instance 
          <br><br>
          <strong>Use</strong>: The aggregation of these values across all Gorouters provide insight into the overall traffic flow of a deployment. Unusually high spikes, if not known to be associated with an expected increase in demand, could indicate a DDoS risk. For performance and capacity management, consider this metric a measure of router throughput per job, converting it to requests-per-second, by looking at the delta value of <code>gorouter.total_requests</code> and deriving back to 1s, or <code>gorouter.total_requests.delta)/5</code>, per Gorouter instance. This helps you see trends in the throughput rate that indicate a need to scale the Gorouter instances. Use the trends you observe to tune the threshold alerts for this metric. 
          <br><br>
          <strong>Origin</strong>: Firehose<br>
          <strong>Type</strong>: Counter (Integer)<br>
          <strong>Frequency</strong>: 5 s<br>
   </tr>
   <tr>
      <th>Recommended measurement</th>
      <td>Average over the last 5 minutes of the derived per second calculation</td>
   </tr>
   <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: Dynamic<br>
          <strong>Red critical</strong>: Dynamic</td>
   </tr>
   <tr>
      <th>Recommended response</th>
      <td>For optimizing the Gorouter, consider the requests-per-second
          derived metric in the context of router latency and Gorouter VM CPU utilization. From performance and load testing of the Gorouter, Pivotal has observed that at approximately 2500 requests per second, latency can begin to increase. 
          <br><br>
          To increase throughput and maintain low latency, 
          scale the Gorouters either horizontally or vertically 
          and watch that the <a href="#cpu.user">system.cpu.user</a> metric for the Gorouter stays in the suggested range of 60-70% CPU Utilization.
</tr>
</table>

<h3 id="-router-handling-latency"><a id="latency"></a> Router Handling Latency</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>gorouter.latency<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>The time in milliseconds that the Gorouter takes to handle requests to backend endpoints, which include both applications routable platform system APIs like Cloud Controller and UAA. 
                    This is the average round trip response time, which includes router handling. 
                    <br><br>
                    <strong>Use</strong>: Indicates how Gorouter jobs in PAS are impacting overall responsiveness. 
                    Latencies above 100 ms can indicate problems with the network, misbehaving backends, 
                    or the need to scale the Gorouter itself due to ongoing traffic congestion. 
                    An alert value on this metric should be tuned to the specifics of the deployment and its underlying network considerations; 
                    a suggested starting point is 100 ms. 
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float in ms)<br>
                 <strong>Frequency</strong>: Emitted per Gorouter request,
                         emission should be constant on a running deployment
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 30 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: Dynamic<br>
                <strong>Red critical</strong>: Dynamic</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>Extended periods of high latency can point to several factors. 
                    The Gorouter latency measure includes network and backend latency impacts as well.<br><br>
                    <ol>
                        <li>First inspect logs for network issues and indications of misbehaving backends.</li>
                        <li>If it appears that the Gorouter needs to scale due to ongoing traffic congestion, 
                            do not scale on the latency metric alone. You should also look at the CPU utilization of the Gorouter VMs and keep it within a maximum 60-70% range.</li>
                        <li>Resolve high utilization by scaling the Gorouter.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-time-since-last-route-register-received"><a id="mssincelastregistryupdate"></a> Time Since Last Route Register Received</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>gorouter.ms_since_last_registry_update<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Time in milliseconds since the last route register was received, emitted per Gorouter instance
                        <br><br>
                <strong>Use</strong>: Indicates if routes are not being registered to apps correctly. 
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float in ms)<br>
                 <strong>Frequency</strong>: 30 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Maximum over the last 5 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: <em>N/A</em> <br>
                <strong>Red critical</strong>: &gt; 30,000<br>
                        This threshold is suitable for normal platform usage. It alerts if it has been 
                        at least 30 seconds since the Gorouter last received a message from an app.</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Search the Gorouter and Route Emitter logs for connection issues to NATS.</li>
                        <li>Check the BOSH logs to see if the NATS, Gorouter, or Route Emitter VMs are failing.</li>
                        <li>Look more broadly at the health of all VMs, particularly Diego-related VMs.</li>
                        <li>If problems persist, pull the Gorouter and Route Emitter logs and contact 
                            Pivotal Support to say there are consistently long delays in route registry.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-router-error:-502-bad-gateway"><a id="bad_gateways"></a> Router Error: 502 Bad Gateway</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>gorouter.bad_gateways<br><br></th></tr>
     <tr>
         <th width="25%">Description</th>
            <td>The lifetime number of bad gateways, or 502 responses, from the Gorouter itself, emitted per Gorouter instance.<br>
                The Gorouter emits a 502 bad gateway error when it has a route in the routing table 
                and, in attempting to make a connection to the backend, finds that the backend does not exist.
                    <br><br>
                    <strong>Use</strong>: Indicates that route tables might be stale.
                    Stale routing tables suggest an issue in the route register management plane, 
                    which indicates that something has likely changed with the locations of the containers. 
                    Always investigate unexpected increases in this metric.
                    <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Count (Integer, Lifetime)<br>
                 <strong>Frequency</strong>: 5 s<br>
             </td>
     </tr>
     <tr>
                <th>Recommended measurement</th>
                <td>Maximum delta per minute over a 5-minute window</td>
     </tr>
     <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: Dynamic<br>
                <strong>Red critical</strong>: Dynamic</td>
     </tr>
     <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Check the Gorouter and Route Emitter logs to see if they are experiencing issues when connecting to NATS.</li>
                        <li>Check the BOSH logs to see if the NATS, Gorouter, or Route Emitter VMs are failing.</li>
                        <li>Look broadly at the health of all VMs, particularly Diego-related VMs.</li>
                        <li>If problems persist, pull Gorouter and Route Emitter logs and contact 
                            Pivotal Support to say there has been an unusual increase in Gorouter bad gateway responses.</li>
                    </ol>
                    </td>
     </tr>
</table>

<h3 id="-router-error:-server-error"><a id="responses.5xx"></a> Router Error: Server Error</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>gorouter.responses.5xx<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>The lifetime number of requests completed by the Gorouter VM for HTTP status family 5xx, server errors, emitted per Gorouter instance.
                    <br><br>
                    <strong>Use</strong>: A repeatedly crashing app is often the cause of a big increase in 5xx responses.
                    However, response issues from apps can also cause an increase in 5xx responses.
                    Always investigate an unexpected increase in this metric.
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Counter (Integer)<br>
                 <strong>Frequency</strong>: 5 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Maximum delta per minute over a 5-minute window</code></td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: Dynamic<br>
                <strong>Red critical</strong>: Dynamic</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Look for out-of-memory errors and other app-level errors.</li>
                        <li>As a temporary measure, ensure that the troublesome app is scaled to more than one instance.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-number-of-gorouter-routes-registered"><a id="total_routes"></a> Number of Gorouter Routes Registered</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>gorouter.total_routes<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>The current total number of routes registered with the Gorouter, emitted per Gorouter instance
                    <br><br>
                    <strong>Use</strong>: The aggregation of these values across all Gorouters indicates uptake and gives a picture of the overall growth of the environment for capacity planning.
            <br><br>
        Pivotal also recommends alerting on this metric if the number of routes falls outside of the normal range for your deployment. Dramatic decreases in this metric volume may indicate a problem with the route registration process, such as an app outage, or that something in the route register management plane has failed.
            <br><br>
            If visualizing these metrics on a dashboard, <code>gorouter.total_routes</code> can be helpful for visualizing dramatic drops. However, for alerting purposes, the <code>gorouter.ms_since_last_registry_update</code> metric is more valuable for quicker identification of Gorouter issues. Alerting thresholds for <code>gorouter.total_routes</code> should focus on dramatic increases or decreases out of expected range.   
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float)<br>
                 <strong>Frequency</strong>: 30 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>5-minute average of the per second delta</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: Dynamic<br>
                <strong>Red critical</strong>: Dynamic</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>For capacity needs, scale up or down the Gorouter VMs as necessary.</li>
                        <li>For significant drops in current total routes, see the 
                           <a href="#mssincelastregistryupdate"> <code>gorouter.ms_since_last_registry_update</code></a>
                            metric value for additional context.</li>
                        <li>Check the Gorouter and Route Emitter logs to see if they are experiencing issues when connecting to NATS.</li>
                        <li>Check the BOSH logs to see if the NATS, Gorouter, or Route Emitter VMs are failing.</li>
                        <li>Look broadly at the health of all VMs, particularly Diego-related VMs.</li>
                        <li>If problems persist, pull the Gorouter and Route Emitter logs and contact Pivotal Support.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-number-of-route-registration-messages-sent-and-received"><a id="route-registration"></a> Number of Route Registration Messages Sent and Received</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>gorouter.registry_message.route-emitter<br>route_emitter.HTTPRouteNATSMessagesEmitted<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>
      This KPI is based on the following metrics:
      <br><br>
      <ul>
        <li><code>route_emitter.HTTPRouteNATSMessagesEmitted</code> reports the lifetime number of route registration messages sent by the Route Emitter component. The metric is emitted for each Route Emitter.</li>
        <li><code>gorouter.registry_message.route-emitter</code> reports the lifetime number of route registration messages received by the Gorouter. The metric is emitted for each Gorouter instance.</li>
      </ul>
      Dynamic configuration that enables the Gorouter to route HTTP requests to apps is published by the Route Emitter component colocated on each Diego cell to the NATS clustered message bus.
      All router instances subscribed to this message bus receive the same configuration. (Router instances within an isolation segment receive configuration only for cells in the same isolation segment.)
      <br><br>
      As Gorouters prune app instances from the route when a TTL expires, each Route Emitter periodically publishes the routing configuration for the app instances on the same cell.
      <br><br>
      Therefore, the aggregate number of route registration messages published by all the Route Emitters should be equal to the number of messages received by each Gorouter instance.
                  <br><br>
                  <strong>Use</strong>: A difference in the rate of change of these metrics is an indication of an issue in the control plane responsible for updating the routers with changes to the routing table.
            <br><br>
            Pivotal recommends alerting when the number of messages received per second for a given router instance falls below the sum of messages emitted per second across all Route Emitters.
            <br><br>
            If visualizing these metrics on a dashboard, look for increases in the difference between the rate of messages received and sent. If the number of messages received by a Gorouter instance drops below the sum of messages sent by the Route Emitters, this is an indication of a problem in the control plane.
                    <br><br>
                    <strong>Origin</strong>: Firehose<br>
                    <strong>Type</strong>: Counter<br>
                  <strong>Frequency</strong>: With each event<br>
        </td>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Difference of 5-minute average of the per second deltas for <code>gorouter.registry_message.route-emitter</code> and sum of <code>route_emitter.HTTPRouteNATSMessagesEmitted</code> for all Route Emitters</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: Dynamic<br>
                <strong>Red critical</strong>: Dynamic</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Check the Gorouter and Route Emitter logs to see if they are experiencing issues when connecting to NATS.</li>
                        <li>Check the BOSH logs to see if the NATS, Gorouter, or Route Emitter VMs are failing.</li>
                        <li>Look broadly at the health of all VMs, particularly Diego-related VMs.</li>
                        <li>If problems persist, pull the Gorouter and Route Emitter logs and contact Pivotal Support.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h2 id="-uaa-metrics"><a id="uaa"></a> UAA Metrics</h2>

<h3 id="-uaa-throughput"><a id="uaa_throughput"></a> UAA Throughput</h3>

<table>
  <tr><th colspan="2" style="text-align: center;"><br>uaa.requests.global.completed.count<br><br></th></tr>
  <tr>
    <th width="25%">Description</th>
      <td>The lifetime number of requests completed by the UAA VM, emitted per UAA instance. This number includes health checks.
        <br><br>
        <strong>Use</strong>: For capacity planning purposes, the aggregation of these values across all UAA instances can provide insight into the overall load that UAA is processing.
        It is recommended to alert on unexpected spikes per UAA instance. Unusually high spikes, if they are not associated with an expected increase in demand, could indicate a DDoS risk and should be investigated.
        <br><br>
        For performance and capacity management, look at the UAA Throughput metric as either a requests-completed-per-second or requests-completed-per-minute rate to determine the throughput per UAA instance.
        This helps you see trends in the throughput rate that may indicate a need to scale UAA instances. Use the trends you observe to tune the threshold alerts for this metric.
        <br><br>
        From performance and load testing of UAA, Pivotal has observed that while UAA endpoints can have different throughput behavior, once throughput reaches its peak value per VM, it stays constant and latency increases.
        <br><br>
        <strong>Origin</strong>: Firehose<br>
        <strong>Type</strong>: Gauge (Integer), emitted value increments over the lifetime of the VM like a counter<br>
        <strong>Frequency</strong>: 5 s<br>
      </td>
    </tr>
    <tr>
      <th>Recommended measurement</th>
      <td>Average over the last 5 minutes of the derived requests-per-second or requests-per-minute rate, per instance</td>
    </tr>
    <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: Dynamic<br>
          <strong>Red critical</strong>: Dynamic</td>
    </tr>
    <tr>
      <th>Recommended response</th>
      <td>For optimizing UAA, consider this metric in the context of <a href="#uaa_latency">UAA Request Latency</a> and <a href="key-cap-scaling.html#uaa-system.cpu.user">UAA VM CPU Utilization</a>.
      To increase throughput and maintain low latency, scale the UAA VMs horizontally by editing the number of your <b>UAA</b> VM instances in the <b>Resource Config</b> pane of the PAS tile
      and ensure that the <code>system.cpu.user</code> metric for UAA is not sustained in the suggested range of 80-90% maximum CPU utilization.
      </td>
    </tr>
</table>

<h3 id="-uaa-request-latency"><a id="uaa_latency"></a> UAA Request Latency</h3>

<table>
  <tr><th colspan="2" style="text-align: center;"><br>gorouter.latency.uaa<br><br></th></tr>
  <tr>
    <th width="25%">Description</th>
      <td>Time in milliseconds that UAA took to process a request that the Gorouter sent to UAA endpoints.
        <br><br>
        <strong>Use</strong>: Indicates how responsive UAA has been to requests sent from the Gorouter. Some operations may take longer to process, such as creating bulk users and groups. It is important to correlate latency observed with the endpoint and evaluate this data in the context of overall historical latency from that endpoint. Unusual spikes in latency could indicate the need to scale UAA VMs.
        <br><br>
        This metric is emitted only for the routers serving the UAA system component and is not emitted per isolation segment even if you are using isolated routers.
        <br><br>
        <strong>Origin</strong>: Firehose<br>
        <strong>Type</strong>: Gauge (Float in ms)<br>
        <strong>Frequency</strong>: Emitted per Gorouter request to UAA<br>
      </td>
    </tr>
    <tr>
      <th>Recommended measurement</th>
      <td>Maximum, per job, over the last 5 minutes</td>
    </tr>
    <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: Dynamic<br>
          <strong>Red critical</strong>: Dynamic</td>
    </tr>
    <tr>
      <th>Recommended response</th>
      <td>Latency depends on the endpoint and operation being used. It is important to correlate the latency with the endpoint and evaluate this data in the context of the historical latency from that endpoint.
          <ol>
            <li>Inspect which endpoints requests are hitting. Use historical data to determine if the latency is unusual for that endpoint. A list of UAA endpoints is available in the <a href="http://docs.cloudfoundry.org/api/uaa/version/4.8.0/index.html">UAA API documentation</a>.</li>
            <li>If it appears that UAA needs to be scaled due to ongoing traffic congestion, do not scale based on the latency metric alone. You should also ensure that the <code>system.cpu.user</code> metric for UAA stays in the suggested range of 80-90% maximum CPU utilization.</li>
            <li>Resolve high utilization by scaling UAA VMs horizontally. To scale UAA, navigate to the <b>Resource Config</b> pane of the PAS tile and edit the number of your <b>UAA</b> VM instances.</li>
        </ol>
      </td>
    </tr>
</table>

<h3 id="-uaa-requests-in-flight"><a id="uaa_requests_inflight"></a> UAA Requests In Flight</h3>

<table>
  <tr><th colspan="2" style="text-align: center;"><br>uaa.server.inflight.count<br><br></th></tr>
  <tr>
    <th width="25%">Description</th>
      <td>The number of requests UAA is currently processing (in-flight requests), emitted per UAA instance.
        <br><br>
        <strong>Use</strong>: Indicates how many concurrent requests are currently in flight for the UAA instance. Unusually high spikes, if they are not associated with an expected increase in demand, could indicate a DDoS risk. 
        <br><br>
        From performance and load testing of the UAA component, Pivotal has observed that the number of concurrent requests impacts throughput and latency. The UAA Requests In Flight metric helps you see trends in the request rate that may indicate the need to scale UAA instances. Use the trends you observe to tune the threshold alerts for this metric.
        <br><br>
        <strong>Origin</strong>: Firehose<br>
        <strong>Type</strong>: Gauge (Integer)<br>
        <strong>Frequency</strong>: 5 s<br>
      </td>
    </tr>
    <tr>
      <th>Recommended measurement</th>
      <td>Maximum, per job, over the last 5 minutes</td>
    </tr>
    <tr>
      <th>Recommended alert thresholds</th>
      <td><strong>Yellow warning</strong>: Dynamic<br>
          <strong>Red critical</strong>: Dynamic</td>
    </tr>
    <tr>
      <th>Recommended response</th>
      <td>To increase throughput and maintain low latency when the number of in-flight requests is high, scale UAA VMs horizontally by editing the <b>UAA</b> VM field in the <b>Resource Config</b> pane of the PAS tile. Ensure that the <code>system.cpu.user</code> metric for UAA is not sustained in the suggested range of 80-90% maximum CPU utilization.
      </td>
    </tr>
</table>

<h2 id="-system-(bosh)-metrics"><a id="bosh"></a> System (BOSH) Metrics</h2>

<h3 id="-vm-health"><a id="healthy"></a> VM Health</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>system.healthy<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td><code>1</code> means the system is healthy, and <code>0</code> means the system is not healthy.
                <br><br>
                <strong>Use</strong>: This is the most important BOSH metric to monitor. 
                 It indicates if the VM emitting the metric is healthy.
                 Review this metric for all VMs to estimate the overall health of the system.
            <br><br>
            Multiple unhealthy VMs signals problems with the underlying IAAS layer.
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (Float, 0-1)<br>
                 <strong>Frequency</strong>: 60 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 5 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: <em>N/A</em> <br>
                <strong>Red critical</strong>: &lt; 1</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                        Investigate CF logs for the unhealthy component(s).
                    </td>
        </tr>
</table>

<h3 id="-vm-memory-used"><a id="mem.percent"></a> VM Memory Used</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>system.mem.percent<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>System Memory — Percentage of memory used on the VM 
                        <br><br>
                 <strong>Use</strong>: Set an alert and investigate if the free RAM is low over an extended period. 
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (%)<br>
                 <strong>Frequency</strong>: 60 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 10 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 80%<br>
                <strong>Red critical</strong>: &ge; 90%</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    The response depends on the job the metric is associated with. If appropriate, scale affected jobs out and monitor for improvement.
                </td>
        </tr>
</table>

<h3 id="-vm-disk-used"><a id="disk.system.percent"></a> VM Disk Used</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>system.disk.system.percent<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>System disk — Percentage of the system disk used on the VM
                        <br><br>
                 <strong>Use</strong>: Set an alert to indicate when the system disk is almost full.
                 <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (%)<br>
                 <strong>Frequency</strong>: 60 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 30 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 80%</br>
                <strong>Red critical</strong>: &ge; 90%</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    Investigate what is filling the jobs system partition. <br>
                    This partition should not typically fill because BOSH deploys jobs to use ephemeral and persistent disks.
                    </td> 
        </tr>
</table>

<h3 id="-vm-ephemeral-disk-used"><a id="disk.ephemeral.percent"></a> VM Ephemeral Disk Used</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>system.disk.ephemeral.percent<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Ephemeral disk — Percentage of the ephemeral disk used on the VM
                <br><br>
               <strong>Use</strong>: Set an alert and investigate if the ephemeral 
                disk usage is too high for a job over an extended period.
                <br><br>
                <strong>Origin</strong>: Firehose<br>
                <strong>Type</strong>: Gauge (%)<br>
                <strong>Frequency</strong>: 60 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 30 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 80%</br>
                <strong>Red critical</strong>: &ge; 90%</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Run <code>bosh vms --details</code> to view jobs on affected deployments.</li>
                        <li>Determine cause of the data consumption, and, if appropriate, 
                            increase disk space or scale out the affected jobs.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-vm-persistent-disk-used"><a id="disk.persistent.percent"></a> VM Persistent Disk Used</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>system.disk.persistent.percent<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>Persistent disk — Percentage of persistent disk used on the VM
                        <br><br>
                <strong>Use</strong>: Set an alert and investigate further if the persistent disk usage for a job is too high 
                over an extended period.
                        <br><br>
                 <strong>Origin</strong>: Firehose<br>
                 <strong>Type</strong>: Gauge (%)<br>
                 <strong>Frequency</strong>: 60 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 30 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 80%<br>
                <strong>Red critical</strong>: &ge; 90%</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Run <code>bosh vms --details</code> to view jobs on affected deployments.</li>
                        <li>Determine cause of the data consumption, and, if appropriate, 
                            increase disk space or scale out affected jobs.</li>
                    </ol>
                    </td>
        </tr>
</table>

<h3 id="-vm-cpu-utilization"><a id="cpu.user"></a> VM CPU Utilization</h3>

<table>
     <tr><th colspan="2" style="text-align: center;"><br>system.cpu.user<br><br></th></tr>
        <tr>
                <th width="25%">Description</th>
                <td>CPU utilization — The percentage of CPU spent in user processes
                <br><br>
                <strong>Use</strong>: Set an alert and investigate further if the CPU utilization is
                too high for a job.<br><br>
                For monitoring Gorouter performance, CPU utilization of the Gorouter VM is 
                the recommended key capacity scaling indicator.
                For more information, see <a href="./key-cap-scaling.html#system.cpu.user">Gorouter Latency and Throughput</a>.
                <br><br>
                <strong>Origin</strong>: Firehose<br>
                <strong>Type</strong>: Gauge (%)<br>
                <strong>Frequency</strong>: 60 s<br>
        </tr>
        <tr>
                <th>Recommended measurement</th>
                <td>Average over the last 5 minutes</td>
        </tr>
        <tr>
                <th>Recommended alert thresholds</th>
                <td><strong>Yellow warning</strong>: &ge; 85%<br>
                <strong>Red critical</strong>: &ge; 95%</td>
        </tr>
        <tr>
                <th>Recommended response</th>
                <td>
                    <ol>
                        <li>Investigate the cause of the spike.</li>
                        <li>If the cause is a normal workload increase, then scale up the affected jobs.</li>
                    </ol>
                    </td>
        </tr>
</table>

        <div><a id='repo-link' href='http://github.com/pivotal-cf/docs-monitoring/tree/2.5/docs-content/kpi.html.md.erb'>Create a pull request or raise an issue on the source for this page in GitHub</a></div>

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
  <a href='https://pivotal.io/privacy-policy'  target="_blank">Privacy Policy</a> | 
  <a href='https://pivotal.io/terms-of-use'  target="_blank">Terms of Use</a>
  <div id="teconsent"></div>

  <br/>
  <a href='/'>Pivotal Documentation</a>
  &copy; 2019 <a href='https://pivotal.io' target="_blank">Pivotal Software</a>, Inc. All Rights Reserved.
  <br/>
  <br/>
</div>
<div class="support">
  Need help? <a href="https://support.pivotal.io" target="_blank">Visit Support</a>
</div>


  </footer>
</div><!--end of container-->

</body>
</html>
